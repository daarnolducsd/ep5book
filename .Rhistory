install.packages("bslib")
install.packages("shiny")
install.packages("bslib")
install.packages("downlit")
# clear environment
rm(list=ls())
# change working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/slides/07_week")
# load data
rr <- read.csv("rugratrace.csv")
# load data
rr <- read_csv("rugratrace.csv")
# load packages
library(tidyverse)
# change working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/slides/07_week")
# load data
rr <- read_csv("rugratrace.csv")
sl
getwd()
cd ./images
setwd(./images)
setwd("./images")
getwd()
# create a tibble that is restricted to fathers, between age 25 and 34
# who have at least 1 child, using pipes and the filter function
# Additionally select the variables age, childtot, childeduc, and college
fathers2534 <- rr %>% filter(age<=35, age>=25, father2==1) %>%
select(age, childtot, childeduc, college)
View(rr)
# create a tibble that is restricted to fathers, between age 25 and 34
# who have at least 1 child, using pipes and the filter function
# Additionally select the variables age, childtot, childeduc, and college
fathers2534 <- rr %>% filter(age<=35, age>=25, father2==1) %>%
select(age, childtot, childeduc, college, dataset)
# By year, compute the average of total childcare hours
# spent by fathers
fathers2534 %>% group_by(dataset) %>%
summarize(meantotalchildcare= mean(childtot, na.rm=T))
# By year, compute the average of childcare hours in education
# spent by fathers
fathers2534 %>% group_by(dataset) %>%
summarize(meantotalchildcare= mean(childtot, na.rm=T))
# By year, compute the average of childcare hours in education
# spent by fathers
fathers2534 %>% group_by(dataset) %>%
summarize(meantotaleduccare= mean(childeduc, na.rm=T))
# By year, compute the average of total childcare hours
# spent by fathers
fathers2534 %>% group_by(dataset) %>%
summarize(meantotalchildcare= mean(childtot, na.rm=T))
# By year, compute the average of childcare hours in education
# spent by fathers
fathers2534 %>% group_by(dataset) %>%
summarize(meantotaleduccare= mean(childeduc, na.rm=T))
# Now compute the average of total hours spent on education
# by fathers for each value of the variable college over time
fathers2534 %>% group_by(dataset,college) %>%
summarize(meantotalchildcare= mean(childtot, na.rm=T))
# Now compute the average of total hours spent on education
# by fathers for each value of the variable college over time
fathers2534 %>% group_by(dataset,college) %>%
summarize(meantotalchildcare= mean(childeduc, na.rm=T))
#######################################
#  Lab 7
#######################################
# clear environment
rm(list=ls())
# load packages
library(tidyverse)
# change working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/slides/07_week")
# load data as a "tibble"
rr <- read_csv("rugratrace.csv")
# create a tibble that is restricted to fathers, between age 25 and 34
# who have at least 1 child, using pipes and the filter function
# Additionally select the variables age, childtot, childeduc, dataset, and college
fathers2534 <- rr %>% filter(age<=35, age>=25, father2==1) %>%
select(age, childtot, childeduc, college, dataset)
# By year, compute the average of total childcare hours
# spent by fathers. Save the result in your environment
avg_childcare <- fathers2534 %>% group_by(dataset) %>%
summarize(meantotalchildcare= mean(childtot, na.rm=T))
# By year, compute the average of childcare hours in education
# spent by fathers. Save the result in your environment
avg_educ <- fathers2534 %>% group_by(dataset) %>%
summarize(meantotaleduccare= mean(childeduc, na.rm=T))
# Now compute the average of total hours spent on education
# by fathers for each value of the variable college over time
# Save the result in your environment
avg_child_by_college<- fathers2534 %>% group_by(dataset,college) %>%
summarize(meantotalchildcare= mean(childeduc, na.rm=T))
# Discussion: Write a few sentences about trends
# in the amount of time fathers spend with children, both
# in total and on education. Compare this with the
# results we discussed in class concerning mothers
# Add discussion here:
View(avg_childcare)
View(avg_educ)
View(avg_child_by_college)
# Now compute the average of total hours spent on child care
# by fathers for each value of the variable college over time
# Save the result in your environment
avg_child_by_college<- fathers2534 %>% group_by(dataset,college) %>%
summarize(meantotalchildcare= mean(childtot, na.rm=T))
View(avg_child_by_college)
# Add discussion here:
mean(rr$work)
# Add discussion here:
mean(rr$work, na.rm = T)
# Add discussion here:
mean(rr$work[rr$work>0], na.rm = T)
# Add discussion here:
mean(rr$work[rr$work>=0], na.rm = T)
ggplot(rr, aes(x=dataset, y=meantotalchildcare)) +
geom_line()
ggplot(avg_childcare, aes(x=dataset, y=meantotalchildcare)) +
geom_line()
?geem_line
?geom_line
## Bonus if time: Make line plots for (1) child education over time
# and (2) child care by college education over time
ggplot(avg_educ, aes(x=dataset, y=meantotaleducare)) +
geom_line()
View(avg_child_by_college)
## Bonus if time: Make line plots for (1) child education over time
# and (2) child care by college education over time
ggplot(avg_educ, aes(x=dataset, y=meantotaleduccare)) +
geom_line()
## Line plot
ggplot(avg_childcare, aes(x=dataset, y=meantotalchildcare)) +
geom_line() +
ylab("Hours per Week on Childcare") +
xlab("Year")
ggplot(avg_educ, aes(x=dataset, y=meantotaleduccare, group=college, color=college)) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year")
ggplot(avg_child_by_college, aes(x=dataset, y=meantotaleduccare, group=college, color=college)) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year")
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=college, color=college)) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year")
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=as.factor(college), color=as.factor(college))) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year")
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=as.factor(college), color=as.factor(college))) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year") +
theme_ipsum() +
scale_fill_discrete(name = "Legend") +
scale_color_manual(labels = c("Less Educated", "College-educated"))
library(hbrthemes)
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=as.factor(college), color=as.factor(college))) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year") +
scale_fill_discrete(name = "Legend") +
scale_color_manual(labels = c("Less Educated", "College-educated"))
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=as.factor(college), color=as.factor(college))) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year") +
scale_fill_discrete(name = "Legend") +
scale_color_manual(labels = c("Less Educated", "College-educated"), values = c("blue", "red"))
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=as.factor(college), color=as.factor(college))) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year") +
scale_fill_discrete(name = "Legend") +
theme(legend. title = element_blank()) +
scale_color_manual(labels = c("Less Educated", "College-educated"), values = c("blue", "red"))
ggplot(avg_child_by_college, aes(x=dataset, y=meantotalchildcare, group=as.factor(college), color=as.factor(college))) +
geom_line() +
ylab("Hours per Week on Education") +
xlab("Year") +
scale_fill_discrete(name = "Legend") +
theme(legend.title = element_blank()) +
scale_color_manual(labels = c("Less Educated", "College-educated"), values = c("blue", "red"))
df <- read.csv("resume_extended.csv")
### HW 3 Solutions
## clear workspace
rm(list=ls())
## load the tidyverse
library(tidyverse)
## set working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/homeworks/hw3/data")
## load resume extended
df <- read.csv("resume_extended.csv")
## set working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/homeworks/hw3/data")
## load resume extended
df <- read.csv("resume_extended.csv")
2=2
View(df)
View(df)
## 1. What fractiono of resumes are high quality
prop.table(table(high_quality))
## 1. What fractiono of resumes are high quality
prop.table(table(df$high_quality))
table(high_quality)
table(df$high_quality)
mean(df$call[df$high_quality==1])
df$high_quality==1
## clear workspace
rm(list=ls())
## load the tidyverse
library(tidyverse)
## set working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/homeworks/hw3/data")
## load resume extended
df <- read.csv("resume_extended.csv")
## 1.a What fraction of resumes are high quality
prop.table(table(df$high_quality))
## 1.b What is the callback rate for high quality vs. low quality
## resumes
mean(df$call[df$high_quality==1])
mean(df$call[df$high_quality==0])
mean_hq <- mean(df$call[df$high_quality==1])
mean_lq <- mean(df$call[df$high_quality==1])
## overall difference
mean_hq-mean_lq
## 1.b What is the callback rate for high quality vs. low quality
## resumes
mean_hq <- mean(df$call[df$high_quality==1])
mean_lq <- mean(df$call[df$high_quality==0])
## overall difference
mean_hq-mean_lq
## clear workspace
rm(list=ls())
## load the tidyverse
library(tidyverse)
## set working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/homeworks/hw3/data")
## load resume extended
df <- read.csv("resume_extended.csv")
## 2.a What is the mean callback rates for Black applicants of high quality
mean_hq_b <- mean(df$call[df$high_quality==1 & df$race=="black"])
mean_hq_b - mean_lq_b
## 2.a What is the mean callback rates for Black applicants of high quality
mean_hq_b <- mean(df$call[df$high_quality==1 & df$race=="black"])
## 2.b What is the mean callback rates for Black applicants of low quality
mean_lq_b <- mean(df$call[df$high_quality==0 & df$race=="black"])
## 2.c What is the "return to quality" (i.e. the percentage point difference)
## in callback rates for high quality and low quality resumes for Black applicants
mean_hq_b - mean_lq_b
table(fed)
table(df$fed)
## 4. Create a data frame named "df_fed" that is restricted
## to federal contractors but has all of the same variables
## as the main data frame
df_fed <- df[df$fed==1,]
## 4.b Using the data frame constructed in the prior question,
## what is the estimated level of discrimination (i.e. the disparity
## in callback rates between white and black applicants) for federal contractors
mean(df_fed$call[df_fed$race=="white"])-mean(df_fed$call[df_fed$race=="black"])
mean(df_fed$call[df_fed$race=="white"])
## load resume extended
df <- read.csv("resume_extended.csv")
## 1.a What fraction of resumes are high quality
prop.table(table(df$high_quality))
## 1.b What is the callback rate for high quality vs. low quality
## resumes
mean_hq <- mean(df$call[df$high_quality==1])
mean_lq <- mean(df$call[df$high_quality==0])
rmarkdown::render()
rmarkdown::render(02-week.Rmd)
rmarkdown::render("02-week.Rmd")
ls
getwd()
### HW 3 Solutions
## clear workspace
rm(list=ls())
## load the tidyverse
library(tidyverse)
## set working directory
setwd("/Users/davidarnold/Dropbox/Teaching/EP5/homeworks/hw3/data")
## load resume extended
df <- read.csv("resume_extended.csv")
## 1.a What fraction of resumes are high quality
prop.table(table(df$high_quality))
resume_black <- resume[resume$race=="black",]
mean(resume_black$call)
mean(resume_black$high_quality=="1")
mean(resume_black$low_quality=="1")
## load resume extended
resume <- read.csv("resume_extended.csv")
resume_black <- resume[resume$race=="black",]
mean(resume_black$call)
mean(resume_black$high_quality=="1")
mean(resume_black$low_quality=="1")
mean(resume_black$high_quality==1)
mean(resume_black$low_quality==1)
y <- rep(c(1, 1, 0), 20)
f <- as.factor(y)
convert <- as.integer(f)
sum(f)
convert <- as.numeric(levels(f))[f])
convert <- as.numeric(levels(f))[f]
setwd("~/Desktop")
df <- read_csv(Education.csv)
df <- read.csv(Education.csv)
df <- read.csv("Education.csv")
View(df)
setwd("~/Desktop")
df <- read.csv("Education.csv")
View(df)
df <- read.csv("ihme.csv")
df <- df %>% mutate(county = paste(county," County"))
library("tidyverse")
df <- df %>% mutate(county = paste(county," County"))
df <- df %>% mutate(county = paste(State.County," County"))
View(df)
df <- read.csv("ihme.csv")
df <- df %>% mutate(county = paste(State.County,"County"))
df <- read.csv("Education.csv")
df <- data.frame(var= c(1,2,3))
df <- df %>% recode(var, 1 = "Tier 1", 2 = "Tier 2", 3 = "Tier 3")
df <- df %>% recode(var, `1` = "Tier 1", `2` = "Tier 2", `3` = "Tier 3")
df <- df %>% mutate(newvar=recode(var, `1` = "Tier 1", `2` = "Tier 2", `3` = "Tier 3"))
head(df$var,df$newvar)
head(df)
install.packages("Rtools")
