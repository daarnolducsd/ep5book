<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 Classroom Technology | Econ5/Poli5D</title>
<meta name="author" content="David Arnold">
<meta name="description" content="4.1 Disrupting Education Intro   code {  background-color: #f1f1f1; } Many developing countries have rapidly expanded access to education. However, not all places see measurable gains in learning....">
<meta name="generator" content="bookdown 0.30 with bs4_book()">
<meta property="og:title" content="Chapter 4 Classroom Technology | Econ5/Poli5D">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/geisel.jpg">
<meta property="og:description" content="4.1 Disrupting Education Intro   code {  background-color: #f1f1f1; } Many developing countries have rapidly expanded access to education. However, not all places see measurable gains in learning....">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 Classroom Technology | Econ5/Poli5D">
<meta name="twitter:description" content="4.1 Disrupting Education Intro   code {  background-color: #f1f1f1; } Many developing countries have rapidly expanded access to education. However, not all places see measurable gains in learning....">
<meta name="twitter:image" content="/images/geisel.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="include/webex.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Econ5/Poli5D</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li class="book-part">Excel</li>
<li><a class="" href="college-instruction-experiments.html"><span class="header-section-number">1</span> College Instruction Experiments</a></li>
<li class="book-part">Stata</li>
<li><a class="" href="intergenerational-mobility.html"><span class="header-section-number">2</span> Intergenerational Mobility</a></li>
<li><a class="" href="discrimination-in-police-stops.html"><span class="header-section-number">3</span> Discrimination in Police Stops</a></li>
<li><a class="active" href="classroom-technology.html"><span class="header-section-number">4</span> Classroom Technology</a></li>
<li><a class="" href="legacy-of-colonial-medicine.html"><span class="header-section-number">5</span> Legacy of Colonial Medicine</a></li>
<li class="book-part">R</li>
<li><a class="" href="resume-experiments.html"><span class="header-section-number">6</span> Resume Experiments</a></li>
<li><a class="" href="the-rug-rat-race.html"><span class="header-section-number">7</span> The Rug Rat Race</a></li>
<li><a class="" href="automated-pollution-monitoring.html"><span class="header-section-number">8</span> Automated Pollution Monitoring</a></li>
<li><a class="" href="voting.html"><span class="header-section-number">9</span> Voting</a></li>
<li><a class="" href="unconditional-cash-transfers.html"><span class="header-section-number">10</span> Unconditional Cash Transfers</a></li>
<li><a class="" href="references-1.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="classroom-technology" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Classroom Technology<a class="anchor" aria-label="anchor" href="#classroom-technology"><i class="fas fa-link"></i></a>
</h1>
<div id="disrupting-education-intro" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Disrupting Education Intro<a class="anchor" aria-label="anchor" href="#disrupting-education-intro"><i class="fas fa-link"></i></a>
</h2>


<style>
code {
  background-color: #f1f1f1;
}
</style>
<p>Many developing countries have rapidly expanded access to education. However, not all places see measurable gains in learning. For example, in India, over 50 percent of students in grade 5 cannot read at a grade 2 level, despite enrollment rates around 95 percent (Pratham 2017)<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;span&gt;“Annual Status of Education Report 2016,”&lt;/span&gt; 2017.&lt;/p&gt;"><sup>5</sup></a></span>.</p>
<p>One hypothesis behind this puzzling fact is termed the mismatch hypothesis. If curriculum is beyond a student's level of understanding, they may learn very little, even if attendance is high. In other words, there is a mismatch between the level of understanding and the curriculum being taught. In Muralidharan, Singh and Ganimiam (2019)<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Karthik Muralidharan, Abhijeet Singh, and Alejandro J Ganimian, &lt;span&gt;“Disrupting Education? Experimental Evidence on Technology-Aided Instruction in India,”&lt;/span&gt; &lt;em&gt;American Economic Review&lt;/em&gt; 109, no. 4 (2019): 1426–60.&lt;/p&gt;"><sup>6</sup></a></span>, the authors study whether a technology that aims to "Teach at the Right Level" can be used to improve learning outcomes. This is an important question: we need to find interventions that work! It is not necessarily true that more investment in education results better outcomes if we are investing in the wrong things.</p>
<p>The technology the authors study is called Mindspark. Mindspark is a computer software that provides learning materials that are appropriate for a student's understanding level. It does this by using information on what questions a student gets right vs. wrong. The level of material only increases in difficulty once the student has learned the previous concepts. Mindspark centers provide 6-day-a-week instruction for 90 minutes (45 minutes with Mindspark, 45 minutes from teaching assistants). The question in Muralidharan, Singh and Ganimiam (2019) is: does this program improve learning outcomes?</p>
<p>To answer this question, the authors recruited participants from low-income neighborhoods in Delhi. At demonstration sessions for Mindspark, parents were introduced to the program. All participants interested in participating needed to fill out a baseline assessment. Then, parents were told that about half of the participants would receive a voucher that waived tuition for the Mindspark program (participants were chosen by lottery). Students not chosen by lottery were told they would obtain free access to the centers after February 2016 (after the experiment had concluded). The result is 619 participants, 305 in the control (i.e. no access to Mindspark) and 314 in the treatment (access to Mindspark)</p>
<p>To begin, let's load the dataset <code>mindspark_data.dta</code></p>
<div class="sourceCode" id="cb105"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb105-1"><a href="classroom-technology.html#cb105-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/data"</span></span>
<span id="cb105-2"><a href="classroom-technology.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> mindspark_data.dta, <span class="kw">replace</span></span>
<span id="cb105-3"><a href="classroom-technology.html#cb105-3" aria-hidden="true" tabindex="-1"></a>/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/<span class="kw">data</span></span></code></pre></div>
<p>As usual, let's begin with describing the dataset</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:msdescribe"></span>
<img src="images/04_describe.png" alt="Describing the Mindspark Data" width="90%"><p class="caption">
Figure 4.1: Describing the Mindspark Data
</p>
</div>
<p>This is a subset of all variables in Muralidharan, Singh, and Ganimian (2019). We are interested in how being treated impacts learning outcomes. We have information about Math and Hindi tests at both the baseline and endline. Baseline means the test was taken before any student has been offered free Mindspark. Endline means the test was taken after the treated students had received Mindspark and been using the software for several months. To start, let's summarize these variables to get a sense of average test scores as well as the variation in test scores at baseline.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb106-1"><a href="classroom-technology.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> per_math1</span>
<span id="cb106-2"><a href="classroom-technology.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> per_hindi1</span></code></pre></div>
<pre><code>    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   per_math1 |        619    .3177475    .1115478          0   .7428572

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
  per_hindi1 |        619    .4278406      .16484          0         .9</code></pre>
<p>At the baseline, the average score on the math test was 0.318. This indicates that on average across students, the average score was a 31.8 percent on the math test. For the Hindi test, the average was a bit higher at 0.428. Now let's look at endline scores.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb108-1"><a href="classroom-technology.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> per_math2</span>
<span id="cb108-2"><a href="classroom-technology.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> per_hindi2</span></code></pre></div>
<pre><code>    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   per_math1 |        619    .3177475    .1115478          0   .7428572

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
  per_hindi1 |        619    .4278406      .16484          0         .9</code></pre>
<p>At endline, scores are higher. The average math score has increased to 0.503 and the average Hindi score has increased to 0.552. Our ultimate goal, however, is to understand how test scores change depending on whether you are given access to Mindspark. In other words, do test scores at endline depend on whether <code>treat==1</code> or <code>treat==0</code>? Before we start analyzing the data, however, we are going to learn a new statistical technique: <strong>regression</strong>.</p>
</div>
<div id="linear-regression-theory" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Linear Regression (Theory)<a class="anchor" aria-label="anchor" href="#linear-regression-theory"><i class="fas fa-link"></i></a>
</h2>
<p>Linear regression estimates a linear relationship between variables. Before getting to the estimation part, let's first review linear equations. A linear equation is any equation that can be written in the following form</p>
<p><span class="math display">\[
y=mx+b
\]</span></p>
<p>Where <span class="math inline">\(m\)</span> is the slope and <span class="math inline">\(b\)</span> is the intercept. For example, there is a linear relationship between degress in Celsius (C) and degrees in Fahrenheit (F)</p>
<p><span class="math display">\[
F= 1.8 \cdot C + 32
\]</span></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:ctof"></span>
<img src="images/04_ctof.png" alt="Converting Celsius to Fahrenheit" width="90%"><p class="caption">
Figure 4.2: Converting Celsius to Fahrenheit
</p>
</div>
<p>In this example, there is a direct linear relationship between these two variables, Celsius and Fahrenheit. Often in the social sciences, we are interested in <strong>estimating</strong> the relationship between two variables. How much does education increase income? Does precipitation impact voter participation? One way to understand how two variables are related is through estimating linear relationships. <strong>Linear Regression</strong> is a way to estimate linear relationships between one or more variables</p>
<p>We want to model some outcome of individuals <span class="math inline">\(Y_i\)</span> as a function of some explanatory variable of the individual <span class="math inline">\(X_i\)</span> (in math: <span class="math inline">\(Y_i=f(X_i)\)</span>). <span class="math inline">\(Y_i\)</span> is often referred to as the dependent variable (or outcome variable). <span class="math inline">\(X_i\)</span> is often referred to as the independent variable (or explanatory variable). If we assume the function <span class="math inline">\(f(X_i)\)</span> is linear, then we can write this model as</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 \cdot X_i + \varepsilon_i \nonumber
\]</span></p>
<p>Imagine we hypothesize that students who watch too much TV the night before a test perform worse. Then we want to understand if test scores (our outcome variable <span class="math inline">\(Y_i\)</span>) is related to hours of TV watched (our explanatory variable <span class="math inline">\(X_i\)</span>). We could posit a linear relationship between the two</p>
<p><span class="math display">\[
\text{Test Score}_i = \beta_0 + \beta_1 \cdot \text{Hours Watched TV}_i + \varepsilon_i
\]</span></p>
<p>The parameters of the model are the parameters we are estimating. In a linear regression model, there are two parameters we need to estimate: <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> as the parameters of the model. We use "hats" to denote the estimates of these parameters. <span class="math inline">\(\hat{\beta}_0\)</span> is the estimate of the intercept. <span class="math inline">\(\hat{\beta}_1\)</span> is the estimate of the slope coefficient. We choose <span class="math inline">\(\hat{\beta}_0\)</span> and <span class="math inline">\(\hat{\beta}_1\)</span> to construct a regression line that best fits our data.</p>
<p>But what does best fit actually mean? We choose <span class="math inline">\(\hat{\beta}_0\)</span> and <span class="math inline">\(\hat{\beta}_1\)</span> to minimize the sum of squared errors (<span class="math inline">\(\sum \varepsilon_i^2\)</span>). Choosing the parameters to minimize the sum of squared errors is referred to as <strong>Ordinary Least Squares</strong> and commonly simply referred to as linear regression.</p>
<p>How do we go about finding the best fit? Let's consider estimating the relationship between the two variables below in Figure <a href="#fig:reg2"><strong>??</strong></a>. On the horizontal axis we have hours spent watching TV, while on the vertical axis we have how the student performed on the test. In this example, we have only four data points.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:hypreg2"></span>
<img src="images/04_reg2.png" alt="Hypothetical Dataset: Finding the Best Fit Line" width="90%"><p class="caption">
Figure 4.3: Hypothetical Dataset: Finding the Best Fit Line
</p>
</div>
<p>Let's draw a line and then assess whether the fit is good or bad. Consider the line in Figure <a href="classroom-technology.html#fig:hypreg3">4.4</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:hypreg3"></span>
<img src="images/04_reg4.png" alt="Hypothetical Dataset: Finding the Best Fit Line" width="90%"><p class="caption">
Figure 4.4: Hypothetical Dataset: Finding the Best Fit Line
</p>
</div>
<p>How well does this line fit? To measure this we take the difference between the line and the actual values, which is known as the residual. Some residuals are negative (meaning the actual value is less than that predicted based on our line), while others are positive (mean the actual value is grater than that predicted based on our line). In terms of "fit" we don't care about whether the error is positive or negative, which is why when we assess fit we first "square" the residuals. The square of all residuals will then be a positive number, with larger positive numbers indicating higher error.</p>
<p>To construct one number that tells us how well the line fits the data we construct the sum of squared residuals. In this example, this number is given by</p>
<p><span class="math display">\[
SSR = (12)^2+(0)^2+(15)^2+(8)^2=433
\]</span></p>
<p>Now, let's try to draw a new line and assess whether the fit is improved. Consider the line in Figure <a href="classroom-technology.html#fig:hypreg4">4.5</a></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:hypreg4"></span>
<img src="images/04_reg3.png" alt="Hypothetical Dataset: Finding the Best Fit Line" width="90%"><p class="caption">
Figure 4.5: Hypothetical Dataset: Finding the Best Fit Line
</p>
</div>
<p>We can again compute the sum of squared residuals, which is now equal to:</p>
<p><span class="math display">\[
SSR = (5)^2+(-6)^2+(8)^2+(2)^2=129
\]</span>
So comparing this to the previous line, we can see this fits better. The sum of squared residuals is smaller. Intuitively, this indicates the points we are trying to predict (the test scores) are closer to the line in Figure <a href="classroom-technology.html#fig:hypreg4">4.5</a> than in Figure <a href="classroom-technology.html#fig:hypreg3">4.4</a>.</p>
<p>Now, linear regression picks the line that minimizes the SSR. Lucky for us, we don't need to keep drawing hypothetical lines and computing the SSR to figure out the solution. There is a mathematical solution to this problem which you will learn about in future statistics or econometrics courses. What that means for our purposes is that computers can find the line that best fits the data very fast.</p>
</div>
<div id="predicted-values" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Predicted Values<a class="anchor" aria-label="anchor" href="#predicted-values"><i class="fas fa-link"></i></a>
</h2>
<p>Now that we have learned how the linear regression line is estimated, let's talk about what we can do with this information. The first concept we will introduce is <strong>predicted values</strong> or <strong>fitted values</strong>. To understand this concept, we are first going to set up a real-world application.</p>
<p>For this application, we are interested in the relationship between life expectancy in a country and the average income in a country. We propose modeling life expectancy as a linear function of average income:</p>
<p><span class="math display">\[
\text{Life Expectancy}_i = \beta_0 + \beta_1 \cdot \text{Average Income in 1000s}_i + \varepsilon_i
\]</span></p>
<p>Figure <a href="classroom-technology.html#fig:scatter1">4.6</a> plots the life expectancy in a country vs the average income, which is stored in $1,000 US dollars. For exampe, a value of 50 indicates that the average income in that country is 50,000 U.S. dollars per year.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:scatter1"></span>
<img src="images/04_scatter1.png" alt="Life Expectancy vs. Average Income (1000s) Across Countries" width="90%"><p class="caption">
Figure 4.6: Life Expectancy vs. Average Income (1000s) Across Countries
</p>
</div>
<p>Imagine now we use linear regression to fit a line to the data in Figure <a href="classroom-technology.html#fig:scatter1">4.6</a>. Imagine we find <span class="math inline">\(\hat{\beta_0}=67.97\)</span> and <span class="math inline">\(\hat{\beta_1}=0.24\)</span>. These values define a line with an intercept equal to 67.97 and a slope equal to 0.24. Our question now is, what can we do with this information?</p>
<p>Well, one thing we can do is form predictions for life expectancy given a value of average income. In other words, if I tell you a country's average income, you could use the linear regression estimates to predict what the life expectancy in that country is. In social sciences, there is sometimes less emphasis on prediction. However, in many settings, one might be interested in forming predictions. For example, imagine you work for a company that is trying to predict who will buy their good based on characteristics of individuals. You could use linear regression for this prediction problem. In policy settings, decisions often depend on predictions. For example, a policymaker may want to predict whether a given defendant will recidivate if released on parole. Linear regression is one (powerful) way to form predictions. It is likely the first tool you will learn in most machine learning classes which focuses primarily on prediction.</p>
<p>Imagine I tell you a country has an average income of $50k. How do we use the regression results to form our best guess for the life expectancy in this country? Well, to begin, let's plot the line that best fits the data. The orange line in Figure <a href="classroom-technology.html#fig:bestfit1">4.7</a> is the line of best fit. It is a line with a intercept equal to 67.97 and a slope coefficient equal to 0.24.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:bestfit1"></span>
<img src="images/04_scatter1p5.png" alt="Life Expectancy vs. Average Income (1000s) Across Countries" width="90%"><p class="caption">
Figure 4.7: Life Expectancy vs. Average Income (1000s) Across Countries
</p>
</div>
<p>One way to interpret this line is that this is our best (linear) prediction of life expectancy given average income. In other words, if we want to predict the life expectancy for a country with an average income of $50k, we can just find what our line would predict for this country. In Figure <a href="classroom-technology.html#fig:bestfit1">4.7</a>, we have added a dashed line at an average income $50k. At an average income of $50k, it appears as if the value of the line is around 80. But we don't need to just eyeball this graph to figure this information out. We have the exact parameters of this line from our regression estimates. We know the intercept is 67.97 and the slope coefficient is 0.24. Therefore, we can use the linear equation to form the predicted life expectancy of a country with income equal to $50k:</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = 60.97 + 0.24 \cdot 50 = 79.97
\]</span></p>
<p>In general, if you want to form the predicted value for an observation with a value of <span class="math inline">\(X_i\)</span>, you can form</p>
<p><span class="math display">\[
\text{Predicted Y}_i = \hat{Y}_i= \hat{\beta_0} + \hat{\beta}_1 \cdot X_i
\]</span>
It is common to denote the predicted value for an observation <span class="math inline">\(i\)</span> as <span class="math inline">\(\hat{Y}_i\)</span>.</p>
<p>Now, of course, any prediction is prone to error. Even complex predictions that use potentially hundreds of variables won't always be right. For example, Netflix uses a complicated machine-learning algorithm to predict what shows to recommend you. But they are sometimes wrong. Sometimes you are not interested in the recommended shows.</p>
<p>Therefore, it is often helpful to characterize the error associated with a model. For a given observation, the error associated with the model is given by</p>
<p><span class="math display">\[
\text{Error}_i = \text{Actual}_i-\text{Predicted}_i
\]</span></p>
<p>For example, the U.S.'s average income is 60k. If I use the regression model to predict Life Expectancy, I would get:</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = 67.97 + 0.24 \cdot 60 = 82.37
\]</span></p>
<p>In other words, based on the U.S.'s average income, I expect the life expectancy to be 82.37 years. But when I look in the data, I see that it is actually 77 years. Therefore, the error associated with the U.S. is equal to</p>
<p><span class="math display">\[
\text{Error}_i = \text{Actual}_i-\text{Predicted}_i = 77-82.37=-5.37
\]</span>
Therefore, the actual life expectancy in the U.S. is 5.37 years lower than the life expectancy predicted by the linear model.</p>
<p>As we have alluded to, there are other ways to form predictions. In certain cases, this linear model might not be an appropriate way to model the data. Maybe the relationship does not appear particularly linear. For example, in Figure <a href="classroom-technology.html#fig:scatter1">4.6</a>, it appears at low incomes, an increase in income results in a very steep rise in life expectancy. Then, at higher incomes, near $60k, $70k, it doesn't appear that increases in income are associated with increases in life expectancy. If I were given free reign to draw a <strong>curve</strong> to the data, the curve would start out steep at low incomes, and get flatter at high incomes. In other words, the curve would be nonlinear.</p>
<p>We are not going to cover nonlinear methods in this course. But it turns out that we can sometimes improve our model by simply changing the variables a bit. What we are going to try next is to estimate a linear regression that models life expectancy as a function of the <strong>natural logarithm of average income</strong>. In other words, we will estimate a linear regression of the following form.</p>
<p><span class="math display">\[
\text{Life Expectancy}_i = \beta_0 + \beta_1 \cdot \text{Ln(Average Income)}_i + \varepsilon_i
\]</span></p>
<p>The key difference is that we now have <strong>Ln(Average Income)</strong> as our explanatory variable. <strong>Ln()</strong> stands for natural logarithm. You have probably seen a graph with one of the variables "logged". This can be done for a few reasons. First, it can reduce the influence of outliers. The natural logarithm is a concave function, which in simple terms, means it shrinks large numbers more than it shrinks small numbers. A second reason that you often see logged graphs is that the relationship between two variables Y and X may be nonlinear, but relationship between Y and ln(X) may be linear.</p>
<div class="rmdnote">
<p>There are different bases for logarithmic function. We will always use the natural logarithm. This is by far the most widely used and interpretable. If you ever hear or read "log" in this class, always interpret is as "the natural logarithm".</p>
</div>
<p>Let's look at how "logging" changes our scatterplot. Figure <a href="classroom-technology.html#fig:scatter3">4.8</a> plots life expectancy agains the natural logarithm of average income. As you can see, the relationship appears more linear now. Taking the natural logarithm shrunk the values of income for countries with high incomes more than countries with low incomes. The result in this setting is that relationship between life expectancy and log average income appears more linear than the relationship between life expectancy and average income.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:scatter3"></span>
<img src="images/04_scatter3.png" alt="Life Expectancy vs. Log Average Income Across Countries" width="90%"><p class="caption">
Figure 4.8: Life Expectancy vs. Log Average Income Across Countries
</p>
</div>
<p>So now imagine we find <span class="math inline">\(\hat{\beta_0}=28.69\)</span> and <span class="math inline">\(\hat{\beta_1}=4.72\)</span>. I again ask what is the predicted life expectancy for a country with average income of $50k.</p>
<p>A very common mistake is forgetting to remember exactly what we are modeling. We are modeling life expectancy as a function of the natural logarithm of income. So to form the correct predicted value, we need to plug in <span class="math inline">\(Ln(50000)\)</span> in to the equation for our best-fit line:</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = 28.69 + 4.72 \cdot Ln(50000) = 79.76
\]</span>
Now, imagine we had forgotten to take the logarithm. If we had instead plugged in 50 (like when the X-variable was income in the thousands), we would get:</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = 28.69 + 4.72 \cdot 50 =264.69
\]</span></p>
<p>We should immediately realize that 264.69 is way too high a life expectancy. You should always think about the numbers you get when forming predictions. If they seems wildly off, then you may have forgotten to transform a variable appropriately.</p>
</div>
<div id="slope-coefficient" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Slope Coefficient<a class="anchor" aria-label="anchor" href="#slope-coefficient"><i class="fas fa-link"></i></a>
</h2>
<p>As social scientists, we are often interested how changes in our explanatory variable (<span class="math inline">\(X\)</span> variable) are associated with changes in our outcome variable (<span class="math inline">\(Y\)</span> variable). The slope coefficient (<span class="math inline">\(\beta_1\)</span>) in our linear regression model is informative about this.</p>
<p>Recall that we modeled Life Expectancy as a linear function of Average Income (1000s) and found</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = 67.97 + 0.24 \cdot \text{Average Income 1000s}_i
\]</span></p>
<p>The slope coefficient captures how changes in Average Income (1000s) is associated with changes in Predicted Life Expectancy.</p>
<p>To understand the interpretation of the slope coefficient (0.24), let's go through a simple example. Imagine I tell you I have two countries, Country A and Country B. Country A has an Average Income of $50k. Country B has an Average Income of $51k. What is the expected difference in Life Expectancy between these two countries?</p>
<p>We can form the Predicted Life Expectancy in both of these countries:
<span class="math display">\[
\text{Predicted Life Expectancy A} = 67.97 + 0.24 \cdot 50 \nonumber \\
\text{Predicted Life Expectancy B} = 67.97 + 0.24 \cdot 51 \nonumber
\]</span></p>
<p>Taking the difference between these two yields</p>
<p><span class="math display">\[
\text{Difference in Predicted Life Expectancy} = 0.24 = \text{slope coefficient}
\]</span></p>
<p>The slope coefficient is generally reported in order to understand the magnitude of a relationship. The general interpretation is:</p>
<div class="rmdnote">
<p>Interpretation of slope coefficient: A 1-unit change in X is associated with a <strong>slope-coefficient</strong> unit change in the Y variable</p>
</div>
<p>When you actually discuss your results, though, you want to be clear about what a unit represents. For example, in our example, we would write a 1-unit change in Average Income (1000s) is associated with 0.24 year increase in Life Expectancy.</p>
<p>This discussion highlights an important to keep in mind when discussing results: always be clear with units. For example, in this case, our X-variable (Average Income) was denoted in the thousands. This is why 50 was plugged for the calculation of predicted life expectancy for Country A, not 50,000. To highlight the confusion that can occur if you are not careful about units, let's turn back to our regression in which X is equal to Ln(Average Income):</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = 28.69 + 4.72 \cdot \text{Ln(Average Income)}
\]</span>
How do we interpret the slope coefficient now? A 1-unit change in Ln(Average Income) is associated with a 4.72 year increase in life expectancy.</p>
<p>The reason the coefficient is so much bigger now is simply because a 1-unit change in Ln(Average Income) is much larger than a 1000 dollar change in income. For example, imagine we compare two countries, one with <span class="math inline">\(\text{Ln(Average Income)}=9\)</span> and another with <span class="math inline">\(\text{Ln(Average Income)}=10\)</span>. The Average Income in levels for a country with <span class="math inline">\(\text{Ln(Average Income)}=9\)</span> is about 8,103 U.S. dollars (i.e. <span class="math inline">\(Ln(8103) \approx 9\)</span>). The Average Income in levels for a country with <span class="math inline">\(Ln(Average Income)=10\)</span> is about $22026 dollars. So a 1-unit change in Ln(Average Income) is quite large when translating to dollars in levels.</p>
<div class="rmdtip">
<p><strong>Concept Check</strong></p>
<p>Try to figure out what an increase from <span class="math inline">\(Ln(Average Income)=10\)</span> to <span class="math inline">\(Ln(Average Income)=11\)</span> is in levels. In Stata, if you want to figure out want to transform <span class="math inline">\(Ln(Average Income)=10\)</span> to <span class="math inline">\(Average Income\)</span>, you can type <code>di exp(10)</code>. This gives you the correct answer because the exponential function is the inverse of the natural logarithm function <span class="math inline">\(exp(Ln(average income))=average income\)</span>.</p>
</div>
<p>In almost all of our applications, we are interested in the relationship between some outcome <span class="math inline">\(Y\)</span> and some explanatory variable <span class="math inline">\(X\)</span>. The way we gauge the magnitude of this relationship in a regression framework is through the slope coefficient. The slope coefficient captures how much we expect <span class="math inline">\(Y\)</span> to change in response to a 1-unit change in <span class="math inline">\(X\)</span>. That is why the slope coefficient plays such a pivotal role in social science research.</p>
</div>
<div id="regression-stata" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Regression (Stata)<a class="anchor" aria-label="anchor" href="#regression-stata"><i class="fas fa-link"></i></a>
</h2>
<p>Now that we understand the concept of a linear regression, let's learn how to estimate a linear regression in Stata. To begin, we are going set up again the general linear regression framework.</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 X_i + \varepsilon
\]</span></p>
<p>The basic syntax for the <code>reg</code> command is:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb110-1"><a href="classroom-technology.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> yvar xvar</span></code></pre></div>
<p>This will produce a table with many statistics. For now we will focus on the intercept <span class="math inline">\(\hat{\beta_0}\)</span> and slope <span class="math inline">\(\hat{\beta_1}\)</span>. To see how this works in practice, let's load up the data on life expectancy and average incomes across different countries, which is named <code>gapminder.dta</code>.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb111-1"><a href="classroom-technology.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*load data*/</span> </span>
<span id="cb111-2"><a href="classroom-technology.html#cb111-2" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/data"</span></span>
<span id="cb111-3"><a href="classroom-technology.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> gapminder.dta, <span class="kw">replace</span> </span>
<span id="cb111-4"><a href="classroom-technology.html#cb111-4" aria-hidden="true" tabindex="-1"></a>/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/<span class="kw">data</span></span></code></pre></div>
<p>Reminder, we are modeling life expectancy as a function of income per capita (in the thousands). This means our dependent variable (or Y-variable) will be life expectancy and our independent variable (or X-variable) will be income per capita (in the thousands). Now let's estimate the regression:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb112-1"><a href="classroom-technology.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> life_expectancy average_income</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       186
-------------+----------------------------------   F(1, 184)       =    178.14
       Model |  4150.14525         1  4150.14525   Prob &gt; F        =    0.0000
    Residual |  4286.67682       184  23.2971567   R-squared       =    0.4919
-------------+----------------------------------   Adj R-squared   =    0.4891
       Total |  8436.82208       185  45.6044436   Root MSE        =    4.8267

--------------------------------------------------------------------------------
life_expecta~y | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
average_income |   .2363563   .0177087    13.35   0.000      .201418    .2712945
         _cons |   67.97336   .4874037   139.46   0.000     67.01174    68.93498
--------------------------------------------------------------------------------</code></pre>
<p>So there are a lot of numbers in the table above. The ones we will focus on are under the column "Coefficient." The first coefficient is in the row that begins with <code>average_income</code>. This is the slope coefficient. This number tells you how a 1-unit change in <code>average_income</code> is predicted to change the Y-variable. In this case, the regression tells us that a 1-unit change in average income (which is denoted in the 1,000s) is associated with a 0.24 year increase in life expectancy. In simpler terms, a $1,000 dollar increase in average income is associated with a 0.24 year increase in life expectancy.</p>
<p>The intercept of the linear regression model appears in the next row, next to the label <code>_cons</code>. The label <code>_cons</code> stands for constant. The terms intercept and constant are often used interchangeably in linear regression models.</p>
<p>From this output, you should be able to draw the linear regression line. A good exercise is to try and draw this with pen and paper, instead of using Stata. If you can draw it correctly, then that indicates you are understanding the various components of this output.</p>
<p>It is easy to check your work using built-in functions in Stata. Stata can plot the regression line for you through the <code>twoway lfit</code> command. <code>lfit</code> stands for linear fit. The basic syntax of the command is to type:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb114-1"><a href="classroom-technology.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">twoway</span> <span class="kw">lfit</span> yvar xvar</span></code></pre></div>
<p>This will plot the linear regression line from the output of:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb115-1"><a href="classroom-technology.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> yvar xvar</span></code></pre></div>
<p>In our example, to plot the linear regression line, along with the scatter plot, we can type:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb116-1"><a href="classroom-technology.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="kw">twoway</span> <span class="kw">scatter</span> life_expectancy average_income, <span class="co">///</span></span>
<span id="cb116-2"><a href="classroom-technology.html#cb116-2" aria-hidden="true" tabindex="-1"></a>    <span class="bn">msymbol</span>(<span class="bn">circle_hollow</span>) msize(small) <span class="co">///</span></span>
<span id="cb116-3"><a href="classroom-technology.html#cb116-3" aria-hidden="true" tabindex="-1"></a>    || <span class="kw">lfit</span> life_expectancy average_income, lw(0.4) lc(<span class="kw">red</span>) <span class="co">///</span></span>
<span id="cb116-4"><a href="classroom-technology.html#cb116-4" aria-hidden="true" tabindex="-1"></a>    <span class="bn">title</span>(<span class="st">"Regression of Life Expectancy on Average Income"</span>) <span class="co">///</span></span>
<span id="cb116-5"><a href="classroom-technology.html#cb116-5" aria-hidden="true" tabindex="-1"></a>    <span class="bn">xtitle</span>(<span class="st">"Average Income (1000s)"</span>) <span class="co">///</span></span>
<span id="cb116-6"><a href="classroom-technology.html#cb116-6" aria-hidden="true" tabindex="-1"></a>    <span class="bn">ytitle</span>(<span class="st">"Life Expectancy"</span>) <span class="co">///</span></span>
<span id="cb116-7"><a href="classroom-technology.html#cb116-7" aria-hidden="true" tabindex="-1"></a>    graphregion(<span class="kw">color</span>(<span class="bn">white</span>) fcolor(<span class="bn">white</span>)) </span></code></pre></div>
<p>This code will generate Figure <a href="classroom-technology.html#fig:bestlfit">4.9</a> below.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:bestlfit"></span>
<img src="images/04_best_lfit.png" alt="Life Expectancy vs.Average Income Across Countries" width="80%"><p class="caption">
Figure 4.9: Life Expectancy vs.Average Income Across Countries
</p>
</div>
</div>
<div id="predict" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Predict<a class="anchor" aria-label="anchor" href="#predict"><i class="fas fa-link"></i></a>
</h2>
<p>In this section, we will discuss how to form predicted values in Stata. To remind you, the predicted value for an observation is equal to:</p>
<p><span class="math display">\[
\text{Predicted Value}_i = \hat{\beta_0} + \hat{\beta}_1 X_i
\]</span>
In our example</p>
<p><span class="math display">\[
\text{Predicted Life Expectancy}_i = \hat{\beta_0} + \hat{\beta}_1 \cdot \text{Average Income}_i
\]</span>
We can manually construct predicted values for every country in our dataset. We just need take the value of average income and form predicted value using the linear regression output. However, we can also do this quickly and efficiently using the <code>predict</code> command. The most basic syntax of the <code>predict</code> command is</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb117-1"><a href="classroom-technology.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="kw">predict</span> newvar</span></code></pre></div>
<p>You just need to replace the word <code>newvar</code> to whatever you want the variable that holds predictions to be named.</p>
<p>Our first step when forming predictions is first to estimate the regression (predict uses the results from the most recently executed regression estimation). In other words, the predict command won't work if you don't estimate a regression first. We are going to estimate the regression from the prior section:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb118-1"><a href="classroom-technology.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> life_expectancy average_income</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       186
-------------+----------------------------------   F(1, 184)       =    178.14
       Model |  4150.14525         1  4150.14525   Prob &gt; F        =    0.0000
    Residual |  4286.67682       184  23.2971567   R-squared       =    0.4919
-------------+----------------------------------   Adj R-squared   =    0.4891
       Total |  8436.82208       185  45.6044436   Root MSE        =    4.8267

--------------------------------------------------------------------------------
life_expecta~y | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
average_income |   .2363563   .0177087    13.35   0.000      .201418    .2712945
         _cons |   67.97336   .4874037   139.46   0.000     67.01174    68.93498
--------------------------------------------------------------------------------</code></pre>
<p>Now that the regression has been estimated, we can form predictions</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb120-1"><a href="classroom-technology.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="kw">predict</span> predicted_life_expectancy</span>
<span id="cb120-2"><a href="classroom-technology.html#cb120-2" aria-hidden="true" tabindex="-1"></a>(option <span class="kw">xb</span> assumed; <span class="kw">fitted</span> <span class="kw">values</span>)</span></code></pre></div>
<p>Now a variable <code>predicted_life_expectancy</code> has been added to our dataset. Let's look at the value of predictions for the first three countries in our dataset..</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb121-1"><a href="classroom-technology.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span> country life_expectancy average_income predicted_life_expectancy <span class="kw">if</span> <span class="dt">_n</span>&lt;=3</span>
<span id="cb121-2"><a href="classroom-technology.html#cb121-2" aria-hidden="true" tabindex="-1"></a>     |     country   life_e~<span class="fu">y</span>   averag~<span class="fu">e</span>   predic~<span class="fu">y</span> |</span>
<span id="cb121-3"><a href="classroom-technology.html#cb121-3" aria-hidden="true" tabindex="-1"></a>     |----------------------------------------------|</span>
<span id="cb121-4"><a href="classroom-technology.html#cb121-4" aria-hidden="true" tabindex="-1"></a>  1. | Afghanistan       63.4       1.92   68.42716 |</span>
<span id="cb121-5"><a href="classroom-technology.html#cb121-5" aria-hidden="true" tabindex="-1"></a>  2. |     Albania       77.9       13.3    71.1169 |</span>
<span id="cb121-6"><a href="classroom-technology.html#cb121-6" aria-hidden="true" tabindex="-1"></a>  3. |     Algeria       76.2       10.6   70.47874 |</span>
<span id="cb121-7"><a href="classroom-technology.html#cb121-7" aria-hidden="true" tabindex="-1"></a>     +----------------------------------------------+</span></code></pre></div>
<p>So the first country is Afghanistan. The life expectancy in Afghanistan is equal 63.4 years. The average income in Afghanistan is equal to 1,920 U.S. dollars per year. Given this average annual income, the linear model predicts the life expectancy in Afghanistan would be 68.4 years.</p>
<p>You will notice our predictions are prone to error. In some cases, we may want to generate a new variable that has the error associated with a given observation. Now that we have formed <code>predicted_life_expectancy</code> we can form the <code>error</code> as</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb122-1"><a href="classroom-technology.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> <span class="kw">error</span> = life_expectancy - predicted_life_expectancy</span></code></pre></div>
<p>Let's <code>summarize</code> our new <code>error</code> variable</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb123-1"><a href="classroom-technology.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> <span class="kw">error</span></span>
<span id="cb123-2"><a href="classroom-technology.html#cb123-2" aria-hidden="true" tabindex="-1"></a>    Variable |        Obs        Mean    Std. <span class="kw">dev</span>.       Min        Max</span>
<span id="cb123-3"><a href="classroom-technology.html#cb123-3" aria-hidden="true" tabindex="-1"></a>-------------+---------------------------------------------------------</span>
<span id="cb123-4"><a href="classroom-technology.html#cb123-4" aria-hidden="true" tabindex="-1"></a>       <span class="kw">error</span> |        186   -2.05e-08     4.81365  -16.57843   8.367805</span></code></pre></div>
<p>The mean is about zero (which is by construction, the regression line is chosen so that on average the predictions are correct). There is a large variance though, for some countries the life expectancy is much lower than expected (negative error), while some it is much higher.</p>
<p>Let's look at the 3 countries with the most negative errors (implying life expectancy is much lower than predicted from income):</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb124-1"><a href="classroom-technology.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sort</span> <span class="kw">error</span></span>
<span id="cb124-2"><a href="classroom-technology.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span> country life_expectancy predicted_life_expectancy <span class="kw">error</span> <span class="kw">if</span> <span class="dt">_n</span>&lt;=3</span>
<span id="cb124-3"><a href="classroom-technology.html#cb124-3" aria-hidden="true" tabindex="-1"></a>     |                  country   life_e~<span class="fu">y</span>   predic~<span class="fu">y</span>       <span class="kw">error</span> |</span>
<span id="cb124-4"><a href="classroom-technology.html#cb124-4" aria-hidden="true" tabindex="-1"></a>     |------------------------------------------------------------|</span>
<span id="cb124-5"><a href="classroom-technology.html#cb124-5" aria-hidden="true" tabindex="-1"></a>  1. |                  Lesotho         52   68.57843   -16.57843 |</span>
<span id="cb124-6"><a href="classroom-technology.html#cb124-6" aria-hidden="true" tabindex="-1"></a>  2. | Central African Republic       52.4    68.1927   -15.79269 |</span>
<span id="cb124-7"><a href="classroom-technology.html#cb124-7" aria-hidden="true" tabindex="-1"></a>  3. |                    Qatar       76.2   88.65453   -12.45454 |</span>
<span id="cb124-8"><a href="classroom-technology.html#cb124-8" aria-hidden="true" tabindex="-1"></a>     +------------------------------------------------------------+</span></code></pre></div>
<p>We can also look at the 3 countries with the most positive errors (implying life expectancy is much higher than predicted from income):</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb125-1"><a href="classroom-technology.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sort</span> <span class="kw">error</span></span>
<span id="cb125-2"><a href="classroom-technology.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span> country life_expectancy predicted_life_expectancy <span class="kw">error</span> <span class="co">///</span></span>
<span id="cb125-3"><a href="classroom-technology.html#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> <span class="dt">_n</span>&gt;=184</span>
<span id="cb125-4"><a href="classroom-technology.html#cb125-4" aria-hidden="true" tabindex="-1"></a>     |  country   life_e~<span class="fu">y</span>   predic~<span class="fu">y</span>      <span class="kw">error</span> |</span>
<span id="cb125-5"><a href="classroom-technology.html#cb125-5" aria-hidden="true" tabindex="-1"></a>     |-------------------------------------------|</span>
<span id="cb125-6"><a href="classroom-technology.html#cb125-6" aria-hidden="true" tabindex="-1"></a>184. |    Japan       84.7   77.38034   7.319656 |</span>
<span id="cb125-7"><a href="classroom-technology.html#cb125-7" aria-hidden="true" tabindex="-1"></a>185. | Maldives       79.1   71.04599   8.054008 |</span>
<span id="cb125-8"><a href="classroom-technology.html#cb125-8" aria-hidden="true" tabindex="-1"></a>186. |     Cuba       78.7   70.33219   8.367805 |</span>
<span id="cb125-9"><a href="classroom-technology.html#cb125-9" aria-hidden="true" tabindex="-1"></a>     +-------------------------------------------+</span></code></pre></div>
<p>It is sometimes interesting to explore what observations are hard to predict for our model. In these countries with very negative or very positive errors, there are likely many other factors that are impacting life expectancy, besides average income. This could be why we have a hard time predicting life expectancy for these countries.</p>
</div>
<div id="macros" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> Macros<a class="anchor" aria-label="anchor" href="#macros"><i class="fas fa-link"></i></a>
</h2>
<p>Before continuing our discussion of regression, we are going to discuss the concept of <strong>macros</strong>. Macros are simply words or characters that store certain output. In Stata, many commands store the results of commands in <strong>macros</strong>. For example, after the <code>sum</code> command, the value of the mean is stored in the macro <code>r(mean)</code>. To see how these work in practice, let's continue with our example that studies the relationship between life expectancy and average income.</p>
<p>To begin, let's summarize the <code>life_expectancy</code> variable:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb126-1"><a href="classroom-technology.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> life_expectancy</span>
<span id="cb126-2"><a href="classroom-technology.html#cb126-2" aria-hidden="true" tabindex="-1"></a>    Variable |        Obs        Mean    Std. <span class="kw">dev</span>.       Min        Max</span>
<span id="cb126-3"><a href="classroom-technology.html#cb126-3" aria-hidden="true" tabindex="-1"></a>-------------+---------------------------------------------------------</span>
<span id="cb126-4"><a href="classroom-technology.html#cb126-4" aria-hidden="true" tabindex="-1"></a>life_expec~<span class="fu">y</span> |        186    72.44624    6.753106         52       84.9</span></code></pre></div>
<p>The mean life expectancy is equal to 72.45. Stata has automatically stored the mean in <code>r(mean)</code>
To access the value within this macro, type:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb127-1"><a href="classroom-technology.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span> <span class="ot">`r(mean)'</span></span>
<span id="cb127-2"><a href="classroom-technology.html#cb127-2" aria-hidden="true" tabindex="-1"></a>72.446237</span></code></pre></div>
<p>This is often useful when you want to reference a value later in your code. Copying the value from the results window can be prone to transcription errors. Using macros that store the information will lead to fewer errors.</p>
<p>After regressions, Stata also stores a number of useful results. In particular, Stata stores the value of the intercept and slope coefficient. In general, <code>_b[varname]</code> stores the coefficient estimate for a variable named <code>varname</code>.</p>
<p>For example, if we estimate:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb128-1"><a href="classroom-technology.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> life_expectancy average_income </span>
<span id="cb128-2"><a href="classroom-technology.html#cb128-2" aria-hidden="true" tabindex="-1"></a>      Source |       SS           df       MS      Number <span class="kw">of</span> <span class="kw">obs</span>   =       186</span>
<span id="cb128-3"><a href="classroom-technology.html#cb128-3" aria-hidden="true" tabindex="-1"></a>-------------+----------------------------------   <span class="fu">F</span>(1, 184)       =    178.14</span>
<span id="cb128-4"><a href="classroom-technology.html#cb128-4" aria-hidden="true" tabindex="-1"></a>       Model |  4150.14525         1  4150.14525   Prob &gt; <span class="fu">F</span>        =    0.0000</span>
<span id="cb128-5"><a href="classroom-technology.html#cb128-5" aria-hidden="true" tabindex="-1"></a>    Residual |  4286.67682       184  23.2971567   R-squared       =    0.4919</span>
<span id="cb128-6"><a href="classroom-technology.html#cb128-6" aria-hidden="true" tabindex="-1"></a>-------------+----------------------------------   Adj R-squared   =    0.4891</span>
<span id="cb128-7"><a href="classroom-technology.html#cb128-7" aria-hidden="true" tabindex="-1"></a>       Total |  8436.82208       185  45.6044436   Root MSE        =    4.8267</span>
<span id="cb128-8"><a href="classroom-technology.html#cb128-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-9"><a href="classroom-technology.html#cb128-9" aria-hidden="true" tabindex="-1"></a>--------------------------------------------------------------------------------</span>
<span id="cb128-10"><a href="classroom-technology.html#cb128-10" aria-hidden="true" tabindex="-1"></a>life_expecta~<span class="fu">y</span> | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]</span>
<span id="cb128-11"><a href="classroom-technology.html#cb128-11" aria-hidden="true" tabindex="-1"></a>---------------+----------------------------------------------------------------</span>
<span id="cb128-12"><a href="classroom-technology.html#cb128-12" aria-hidden="true" tabindex="-1"></a>average_income |   .2363563   .0177087    13.35   0.000      .201418    .2712945</span>
<span id="cb128-13"><a href="classroom-technology.html#cb128-13" aria-hidden="true" tabindex="-1"></a>         <span class="dt">_cons</span> |   67.97336   .4874037   139.46   0.000     67.01174    68.93498</span>
<span id="cb128-14"><a href="classroom-technology.html#cb128-14" aria-hidden="true" tabindex="-1"></a>--------------------------------------------------------------------------------</span></code></pre></div>
<p>Then we can retrieve the coefficient on <code>average_income</code> by typing:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb129-1"><a href="classroom-technology.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span> <span class="ot">`_b[average_income]'</span></span></code></pre></div>
<p>You can retrieve the intercept by typing:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb130-1"><a href="classroom-technology.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="kw">di</span> <span class="ot">`_b[_cons]'</span></span></code></pre></div>
<p>Using macros can be helpful when generating new variables. For example, we can form the predicted value of each observation by forming:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb131-1"><a href="classroom-technology.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> predicted_value = <span class="ot">`_b[_cons]'</span> + <span class="ot">`_b[average_income]'</span>*average_income </span></code></pre></div>
<p>We could also do this "manually" by copying the values of the intercept and slope coefficient from our output, but using macros ensures we will not make any transcription errors.</p>
<p>Not only does Stata store useful macros for you, but you can also construct your own macros in Stata. This can be useful when you are typing something over and over that is very long. Instead of repeatedly typing, you can store the information in a macro. For example, one common way to use macros is to store a list of variable. In the next example, we will create a <strong>global macro</strong> that stores a list of variables.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb132-1"><a href="classroom-technology.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> vars = <span class="st">"average_income life_expectancy"</span></span></code></pre></div>
<p>Now whenever I type <code>\$vars</code> into Stata, Stata will interpret it as "average_income life_expectancy". Let's see what happens if I type:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb133-1"><a href="classroom-technology.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> <span class="ot">$vars</span></span>
<span id="cb133-2"><a href="classroom-technology.html#cb133-2" aria-hidden="true" tabindex="-1"></a>    Variable |        Obs        Mean    Std. <span class="kw">dev</span>.       Min        Max</span>
<span id="cb133-3"><a href="classroom-technology.html#cb133-3" aria-hidden="true" tabindex="-1"></a>-------------+---------------------------------------------------------</span>
<span id="cb133-4"><a href="classroom-technology.html#cb133-4" aria-hidden="true" tabindex="-1"></a>average_in~<span class="fu">e</span> |        186    18.92431    20.03912       .673        111</span>
<span id="cb133-5"><a href="classroom-technology.html#cb133-5" aria-hidden="true" tabindex="-1"></a>life_expec~<span class="fu">y</span> |        186    72.44624    6.753106         52       84.9</span></code></pre></div>
<p>One could do the same thing but with a "local" macro.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb134-1"><a href="classroom-technology.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> vars = <span class="st">"average_income life_expectancy"</span></span>
<span id="cb134-2"><a href="classroom-technology.html#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span> <span class="ot">`vars'</span></span>
<span id="cb134-3"><a href="classroom-technology.html#cb134-3" aria-hidden="true" tabindex="-1"></a>    Variable |        Obs        Mean    Std. <span class="kw">dev</span>.       Min        Max</span>
<span id="cb134-4"><a href="classroom-technology.html#cb134-4" aria-hidden="true" tabindex="-1"></a>-------------+---------------------------------------------------------</span>
<span id="cb134-5"><a href="classroom-technology.html#cb134-5" aria-hidden="true" tabindex="-1"></a>average_in~<span class="fu">e</span> |        186    18.92431    20.03912       .673        111</span>
<span id="cb134-6"><a href="classroom-technology.html#cb134-6" aria-hidden="true" tabindex="-1"></a>life_expec~<span class="fu">y</span> |        186    72.44624    6.753106         52       84.9</span></code></pre></div>
<p>So what is the difference between a local macro and a global macro. In practice, you reference a global macro with a dollar sign <code>$</code>, a local with apostrophes `<code>macro'</code>. Both can store the same information, but locals can only be accessed within a given Stata session. Many advise to only use local macros. Setting globals can conflict with other aspects of Stata. For our purposes, it is rare we will actually need to use macros, let alone global vs. local. This section introduces macros as an important programming tool to understand conceptually, but it is not required to fully understand the nuances between local and global macros in Stata to understand the rest of the course material.</p>
</div>
<div id="explore-data" class="section level2" number="4.8">
<h2>
<span class="header-section-number">4.8</span> Explore Data<a class="anchor" aria-label="anchor" href="#explore-data"><i class="fas fa-link"></i></a>
</h2>
<p>In this section, we are going to introduce the data from the experiment run by Muralidharan, Singh, and Ganimian (2019). To begin exploring the data, we are going to explore achievement gaps. The motivation for this paper is that many students in India are not at their grade level in terms of understanding. If students are not at their grade level, they may not actually learn much from attending school. In this section we will document that (1) on average students are performing well below grade level and (2) a year in school is not associated with an additional year of understanding.</p>
<p>The variables we will be exploring are in the dataset <code>mindspark_levels.dta</code>. <code>class</code> is the grade the student is enrolled in. <code>mathelevel</code> is the assessed level of the student's understanding. Therefore, if an individual's class is greater than their assessed math level, they are behind in their understanding of the curriculum.</p>
<p>To begin, let's provide a scatter plot of assessed math level on actual grade. Our first step will be to load the data:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb135-1"><a href="classroom-technology.html#cb135-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/data"</span></span>
<span id="cb135-2"><a href="classroom-technology.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> mindspark_levels.dta, <span class="kw">clear</span></span>
<span id="cb135-3"><a href="classroom-technology.html#cb135-3" aria-hidden="true" tabindex="-1"></a>/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/<span class="kw">data</span></span></code></pre></div>
<p>The most basic scatterplot we could create from this data is displayed below</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb136-1"><a href="classroom-technology.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="dv">scheme</span> plotplainblind</span>
<span id="cb136-2"><a href="classroom-technology.html#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="kw">twoway</span> <span class="kw">scatter</span> mathlevel <span class="kw">class</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:basicscatter"></span>
<img src="images/04_basic.png" alt="Assessed Math Grade Level vs. Actual Grade Level " width="80%"><p class="caption">
Figure 4.10: Assessed Math Grade Level vs. Actual Grade Level
</p>
</div>
<p>Figure <a href="classroom-technology.html#fig:basicscatter">4.10</a> doesn't't seem particularly informative. The reason is because so many points are overlapping. We know that there are over 600 participants in the experiment, but we only see a handful of dots in the graph. The reason is that many individuals have the same values for these variables. In other words, there are many people, for example, with an assessed math level equal 4 and an actual grade level equal to 6. From this figure, however, we can't tell how many. One way we can improve the graph is to use the <code><a href="https://rdrr.io/r/base/jitter.html">jitter()</a></code> option.</p>
<p>Scatter plots give us a transparent way to view our data, but when variables are categorical (like <code>grade</code> and <code>mathlevel</code> in our example), they can be less informative because so many observations overlap. <code><a href="https://rdrr.io/r/base/jitter.html">jitter()</a></code> adds a small amount of noise (small perturbations) to the data so that the points no longer overlap on the graph. The way it works is that in parentheses you place a number that determines how much noise is added. <code>(5)</code> is a common choice. A value of <code>(100)</code> would make it so that the graph is completely dominated by noise.</p>
<p>To understand what <code><a href="https://rdrr.io/r/base/jitter.html">jitter()</a></code> does, let's try it out on our scatter plot.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb137-1"><a href="classroom-technology.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="kw">twoway</span> <span class="kw">scatter</span> mathlevel <span class="kw">class</span>, jitter(5) <span class="co">///</span></span>
<span id="cb137-2"><a href="classroom-technology.html#cb137-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">xlabel</span>(5(1)10) <span class="co">///</span></span>
<span id="cb137-3"><a href="classroom-technology.html#cb137-3" aria-hidden="true" tabindex="-1"></a>    <span class="bn">xtitle</span>(<span class="st">"Grade enrolled in"</span>) <span class="co">///</span></span>
<span id="cb137-4"><a href="classroom-technology.html#cb137-4" aria-hidden="true" tabindex="-1"></a>    <span class="bn">ytitle</span>(<span class="st">"Assessed grade level of student achievement"</span>) </span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:improvescatter"></span>
<img src="images/04_improved.png" alt="Assessed Math Grade Level vs. Actual Grade Level " width="80%"><p class="caption">
Figure 4.11: Assessed Math Grade Level vs. Actual Grade Level
</p>
</div>
<p>As you can see in the figure, very few students are performing at their grade level, with none performing above grade level. There are large clusters at grades several years below grade level. For example, for students in grade 6, the largest clusters are at 4th grade math level and 3rd grade math level. This gives us a sense of the scope of the issue. Students understanding is well below their grade level.</p>
<p>Next, let's try to get a sense of how learning is evolving over time. There are basically two potential "stories" here. Story 1: students are below grade level, but each year they are still learning (i.e. increasing grade by 1 is associated with a 1-year increase in assessed math level). Story 2: students performing below grade level makes learning difficult (i.e. increasing grade by 1 is associated with less than a 1-year increase in assessed math level). Figuring out which story is true is important. If story 1 is true, then even though students are behind, they are still learning more information every year. They won't fall further and further behind over time. But if story 2 is true, then there is a more serious issue in learning. Students are behind and falling further behind every year.</p>
<p>We can study this question in a regression framework. We are interested in the relationship between assessed math level and grade</p>
<p><span class="math display">\[
\text{Math Level}_i = \alpha + \beta \cdot \text{Grade}_i + \varepsilon_i
\]</span></p>
<p><span class="math inline">\(\beta\)</span> tells us how much we expect assessed math level to increase for a 1-unit increase in Grade. If this is much lower than 1, then students will fall farther and farther behind each year. Let's estimate this regression in Stata:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb138-1"><a href="classroom-technology.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> mathlevel <span class="kw">class</span> </span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       253
-------------+----------------------------------   F(1, 251)       =     19.02
       Model |  22.8033097         1  22.8033097   Prob &gt; F        =    0.0000
    Residual |   300.87258       251  1.19869554   R-squared       =    0.0705
-------------+----------------------------------   Adj R-squared   =    0.0667
       Total |  323.675889       252  1.28442813   Root MSE        =    1.0948

------------------------------------------------------------------------------
   mathlevel | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       class |   .2926913   .0671066     4.36   0.000     .1605275     .424855
       _cons |   1.756712   .4928781     3.56   0.000      .786008    2.727416
------------------------------------------------------------------------------</code></pre>
<p>Reading the table above, we find <span class="math inline">\(\hat{\beta}=0.293\)</span>. This indicates that a 1-year increase in grade is associated with only a 0.293 year increased in assessed math level. In other words, students are learning over time, but at a much lower rate than is envisioned by the curriculum. Ideally, 1 year of schooling should be associated with an additional year of learning.</p>
<p>All of these results highlight a need for an intervention. We have documented (1) students (on average) are assessed to be performing below grade level, (2) there is large variation in assessed grade level within a given grade, and (3) learning over time is slower than intended. Maybe an intervention that "Teaches at the Right Level" can help alleviate some of these issues.</p>
</div>
<div id="summary-statistics-1" class="section level2" number="4.9">
<h2>
<span class="header-section-number">4.9</span> Summary Statistics<a class="anchor" aria-label="anchor" href="#summary-statistics-1"><i class="fas fa-link"></i></a>
</h2>
<p>Before getting to the experimental data, we need to first make sure that the randomization was implemented correctly. To remind you, the experiment gave free Mindspark tuition to a random subset of students. But what if randomization failed for some reason? What if students that received Mindspark tuition already had better test scores than students that did not? Then we don't have a valid experiment. To check if we have a valid experiment, we should confirm that the treated and control students are similar based on observables. In order to present our results, we are going to learn a new command <code>outreg2</code>, which is useful for building publication-ready tables in Stata.</p>
<p>In most cases, <code>outreg2</code> is used to export regression estimates to different formats (hence the name). However, in this section we are going to learn how to use it to create summary statistics. Summary statistics are incredibly important to present in research. If you open any social science article, there is a good chance the first table will be a table of summary statistics.</p>
<p>One type of summary statistic table we have already discussed is a balance table. In an experiment, we need to check that treatment and control individuals are "balanced" based on observable characteristics. In the Mindspark experiment, we have a few demographic characteristics we can check balance with respect to. To understand our eventual goal, Figure <a href="classroom-technology.html#fig:msgtab">4.12</a> is the (beginning) of the Table 1 from Muralidharan, Singh and Ganimian (2019). We don't need to replicate this format exactly, but hopefully we can get something that looks professional.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:msgtab"></span>
<img src="images/04_msg_tab.png" alt="Balance Table from Muralidharan, Singh and Ganimian (2019)" width="80%"><p class="caption">
Figure 4.12: Balance Table from Muralidharan, Singh and Ganimian (2019)
</p>
</div>
<p>The basic syntax of <code>outreg2</code> that will be appropriate for our goals is:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb140-1"><a href="classroom-technology.html#cb140-1" aria-hidden="true" tabindex="-1"></a>outreg2 <span class="kw">using</span> <span class="kw">table</span>.doc, <span class="fu">word</span> <span class="kw">replace</span> <span class="co">///</span></span>
<span id="cb140-2"><a href="classroom-technology.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span>(<span class="fu">log</span>) eqkeep(<span class="kw">N</span> <span class="kw">mean</span>) <span class="kw">keep</span>(<span class="kw">varlist</span>)</span></code></pre></div>
<p>Now, there was quite a bit of syntax in the previous code. For better or worse, commands that deal with formatting tend to have lots of options. This is good for flexibility, but can make them frustrating to learn initially. Let's go through each part of the command step-by-step:</p>
<ul>
<li><p><code>outreg2 using table.doc</code> -- tells Stata that we should save the results of this command in a file called <code>table.doc</code> (it will be saved in working directory)</p></li>
<li><p><code>word replace</code> -- tells Stata that the format is a word document and if it already exists in the working directory it should be replaced</p></li>
<li><p><code>sum(log)</code> -- tells Stata that this should be a summary stats table. <code>outreg2</code> is usually used for regression tables, not summary statistics table</p></li>
<li><p><code>eqkeep(N Mean)</code> -- tells Stata to keep certain statistics in the summary stats table. In this case, the observation count and the average (can also store SD, min, and max)</p></li>
<li><p><code>keep(varlist)</code> -- tells Stata what variables to include. Replace <code>varlist</code> with a list of variables you want to appear in the table</p></li>
</ul>
<p>Let's use the syntax above to create a summary statistics table with our data:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb141-1"><a href="classroom-technology.html#cb141-1" aria-hidden="true" tabindex="-1"></a>outreg2 <span class="kw">using</span> tab1_basic.doc, <span class="fu">word</span> <span class="kw">replace</span> \\\</span>
<span id="cb141-2"><a href="classroom-technology.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span>(<span class="fu">log</span>) eqkeep(<span class="kw">N</span> <span class="kw">mean</span>) <span class="kw">keep</span>(st_age1 st_female1 ses_index) </span></code></pre></div>
<p>Figure <a href="classroom-technology.html#fig:tab1basic">4.13</a> presents the basic summary statistics table. You can also customize it more before exporting by adding the option <code>title("Table 1: Summary Statistics")</code>. This will add a title to the table.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:tab1basic"></span>
<img src="images/04_tab1_basic.png" alt="Basic Summary Statistics Table" width="80%"><p class="caption">
Figure 4.13: Basic Summary Statistics Table
</p>
</div>
<p>Now, this isn't exactly what we wanted. We wanted a balance table, that shows the statistics of these variables by treatment status. In order to create this table we are going to combine <code>outreg2</code> with the <code>bys</code> command.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb142-1"><a href="classroom-technology.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="kw">bys</span> treat: outreg2 <span class="kw">using</span> balance_tab.doc, <span class="fu">word</span> <span class="kw">replace</span> \\\</span>
<span id="cb142-2"><a href="classroom-technology.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sum</span>(<span class="fu">log</span>) eqkeep(<span class="kw">N</span> <span class="kw">mean</span>) <span class="kw">keep</span>(st_age1 st_female1 ses_index) \\\</span>
<span id="cb142-3"><a href="classroom-technology.html#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> \\\</span>
<span id="cb142-4"><a href="classroom-technology.html#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="bn">title</span>(<span class="st">"Table 2: Characteristics of Treatment and Control Students"</span>)</span></code></pre></div>
<p>The code above generates Figure <a href="classroom-technology.html#fig:tab1balance">4.14</a>:</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:tab1balance"></span>
<img src="images/04_balance_tab.png" alt="Basic Balance Table" width="80%"><p class="caption">
Figure 4.14: Basic Balance Table
</p>
</div>
<p>One limitation of our current table is that treat 0 and treat 1 is not the most descriptive way to describe the data. However, given we now have this table in Word format, we can manually make any necessary changes. For example, Figure <a href="classroom-technology.html#fig:tab2balance">4.15</a> edits the labels to provide a table that is ready for publication.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:tab2balance"></span>
<img src="images/04_balance_tab_fin.png" alt="Final Balance Table" width="80%"><p class="caption">
Figure 4.15: Final Balance Table
</p>
</div>
<p>In this case, the average age, fraction female, and socioeconomic status index (ses) are all relatively similar between the treated students and control students. Looks like randomization was succesful!</p>
</div>
<div id="binary-regression" class="section level2" number="4.10">
<h2>
<span class="header-section-number">4.10</span> Binary Regression<a class="anchor" aria-label="anchor" href="#binary-regression"><i class="fas fa-link"></i></a>
</h2>
<p>So far, the regression examples have been examples with continuous variables. Life expectancy and average income, for example, can take on any value within certain ranges. Therefore, these are examples of continuous variables. In this section, we are going to discuss the interpretation of regression estimates when either the dependent (Y-variable) and/or the independent (X-variable) is binary.</p>
<p>To start, let's consider a hypothetical example. Imagine we are interested in whether temperature impacts voting. We have an individual-level dataset that indicates whether an individual voted (<span class="math inline">\(\text{Vote}_i=1\)</span> if voted and zero otherwise), as well as the temperature in Fahrenheit in the location they voted. We propose modeling this via a linear regression framework:</p>
<p><span class="math display">\[
\text{Vote}_i = \alpha + \beta \text{Temperature}_i + \varepsilon_i
\]</span></p>
<p>Imagine we find <span class="math inline">\(\hat{\alpha}=0.1\)</span> and <span class="math inline">\(\hat{\beta}=0.01\)</span>. How do we interpret these numbers? Before we said the interpretation of the slope coefficient is "the expected increase in <span class="math inline">\(Y\)</span> for a 1-unit change in <span class="math inline">\(X\)</span>". If we use this interpretation, then we expect our variable <span class="math inline">\(Vote\)</span> to increase by 0.01 if Temperature increases by a degree. A 0.01 increase in a binary indicator implies a 1 percentage point increase in the probability the value of the variable is equal to 1. This seems a little abstract, so let's consider another way to interpret this coefficient.</p>
<p>One way to understand this interpretation is to return to thinking about predicted values. What is the predicted value of <span class="math inline">\(Vote\)</span> if the temperature is 50 degrees.</p>
<p><span class="math display">\[
\text{Predicted Vote} = 0.1 + 0.01*50 = 0.6
\]</span></p>
<p>Recall in earlier sections we would often take the average of binary variables. For example, in Chapter 1, we had an outcome variable that was equal to 1 if the individual passed a test and zero otherwise. We showed that the average of this variable is equal to the fraction of individuals who passed the test.</p>
<p>Here, what does it mean for the predicted value of vote to be equal to 0.6? It means that if the temperature is 50 degrees, we expect 60 percent of individuals to vote.</p>
<p>We can similarly form the predicted value of vote if it is 1 degree hotter (i.e. 51 degrees).</p>
<p><span class="math display">\[
\text{Predicted Vote} = 0.1 + 0.01*51 = 0.61
\]</span></p>
<p>Therefore, we expect 61 percent of individuals to vote if it is 51 degrees. Therefore, a 1-degree increase in temperature is associated with a 1 percentage point increase in the fraction voting. In this example, the dependent variable is binary and the independent variable is still continuous. In this next example, let's flip this, so the independent variable is continuous and the dependent variable is binary.</p>
<p>Let's next imagine that we are interested in the effect of a Universal Basic Income (UBI) payment on total earnings of individuals. UBI is a policy in which every individual receives a payment every month, regardless of their current income. The answer to this question has important policy implications. It might at first seem obvious that earnings will increase if an individual receives a UBI payment. But it is also possible that individuals who receive a UBI payment will respond by working less, or in extreme cases, quit working altogether. If these responses are common, it is not clear that UBI payments will actually increase the earnings of recipients overall.</p>
<p>There are now a few experiments on UBI that are either complete or in progress. In these experiments, some individuals receive UBI payments, while others do not. Imagine we have access to the data of one of these experiments and propose modeling earnings as a function of whether you are given access to the UBI payment (i.e. UBI is a binary variable that is equal to 1 if the individual receives the UBI payment and zero otherwise):</p>
<p><span class="math display">\[
\text{Total Earnings}_i = \alpha + \beta \cdot \text{UBI} + \varepsilon_i
\]</span>
Let's interpret the regression coefficients again through forming predicted values. What is the predicted earnings for someone who does not receive UBI?</p>
<p><span class="math display">\[
\text{Predicted Earnings} = \alpha + \beta \cdot 0 =\alpha
\]</span></p>
<p>What is the predicted earnings for someone who does receive UBI?</p>
<p><span class="math display">\[
\text{Predicted Earnings} = \alpha + \beta \cdot 1 =\alpha + \beta
\]</span>
So <span class="math inline">\(\alpha\)</span> is the predicted earnings for individuals who don't receive the UBI payment. In other words, this is the expected earnings for control workers. <span class="math inline">\(\beta\)</span> is the difference in earnings for participants that receive UBI, relative to those that do not. In other words, if we predict control workers will have earnings of 50,000, and UBI recipients have earnings of 60,000, then <span class="math inline">\(\hat{\alpha}=50,000\)</span> and <span class="math inline">\(\hat{\beta}=10,000\)</span>.</p>
<p>Finally, let's change the prior example slightly so that both the dependent and independent variable are binary. Instead of studying the impact of UBI on earnings, let's study the impact on employment:</p>
<p><span class="math display">\[
\text{Employment}_i = \alpha + \beta \cdot \text{UBI} + \varepsilon_i
\]</span></p>
<p>Now both <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span> are binary. Let's again interpret these coefficients through predicted values.</p>
<p>What is the predicted value of employment for someone who does not receive UBI?</p>
<p><span class="math display">\[
\text{Predicted Employment} = \alpha + \beta \cdot 0 =\alpha
\]</span>
In other words, of those who do not receive UBI, we expect <span class="math inline">\(\alpha\)</span> percent to be employed. Now, what is the predicted employemnt for someone who does receive UBI?</p>
<p><span class="math display">\[
\text{Predicted Employment} = \alpha + \beta \cdot 1 =\alpha + \beta
\]</span></p>
<p>In other words, of those who do receive UBI, <span class="math inline">\(\alpha + \beta\)</span> percent are employed. <span class="math inline">\(\beta\)</span> is the percentage point difference in employment rates between those who receive UBI vs. those that do not. For example, imagine 80 percent of control workers are employed, while 75 percent of UBI recipients are employed. In this case <span class="math inline">\(\hat{\alpha}=0.80\)</span>, while <span class="math inline">\(\hat{\beta}=-0.05\)</span>. In this case, we would conclude that received UBI decreases the probability of being employed by 5 percentage points.</p>
<p>There are a few lessons from this chapter that you should internalize for the rest of this book. In order to write clearly about your results, it is important to understand if your variables are continuous or binary. If the <span class="math inline">\(Y\)</span> variable is binary, you can interpret the <span class="math inline">\(\beta\)</span> coefficients as changes in the probability of having <span class="math inline">\(Y=1\)</span>. For example, a 1-unit increase in temperature is associated with a <span class="math inline">\(\beta\)</span> percentage point change in the probability of voting. If the <span class="math inline">\(X\)</span> variable is binary indicator, then <span class="math inline">\(\alpha\)</span> is average of <span class="math inline">\(Y\)</span> if <span class="math inline">\(X=0\)</span>, while <span class="math inline">\(\alpha+\beta\)</span> is average of <span class="math inline">\(Y\)</span> if <span class="math inline">\(X=1\)</span>.</p>
</div>
<div id="mindspark-results" class="section level2" number="4.11">
<h2>
<span class="header-section-number">4.11</span> Mindspark Results<a class="anchor" aria-label="anchor" href="#mindspark-results"><i class="fas fa-link"></i></a>
</h2>
<p>Now that we understand how to interpret regressions with binary variables, we are going to estimate the impact of Mindspark on test scores. To do so, we will estimate a linear regression of the following form:</p>
<p><span class="math display">\[
\text{Endline Test Score}_i = \alpha + \beta \cdot \text{Treat}_i + \varepsilon_i
\]</span>
Endline test score ranges from 0 to 1 and represents the percent of questions that an individual got correct on the test. Treat is a binary indicator variable that is equal to 1 if the individual is in the treatment group (i.e. was given free Mindspark tuition) and zero of the individual is in the control group (i.e. not given free Mindspark tuition).</p>
<p>To begin, let's load in the dataset <code>mindspark_data.dta</code></p>
<div class="sourceCode" id="cb143"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb143-1"><a href="classroom-technology.html#cb143-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"~/Dropbox/Teaching/EP5/online/04_week/data"</span></span>
<span id="cb143-2"><a href="classroom-technology.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> mindspark_data.dta, <span class="kw">clear</span> </span>
<span id="cb143-3"><a href="classroom-technology.html#cb143-3" aria-hidden="true" tabindex="-1"></a>/Users/davidarnold/Dropbox/Teaching/EP5/online/04_week/<span class="kw">data</span></span></code></pre></div>
<p>Now, let's see if treatment impacts endline math scores. The endline math scores. Remember, the variable <code>per_math2</code> contains the endline math test scores. Therefore, to estimate the impact of the treatment on this variable, we can type:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb144-1"><a href="classroom-technology.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       539
-------------+----------------------------------   F(1, 537)       =     28.72
       Model |  .813404311         1  .813404311   Prob &gt; F        =    0.0000
    Residual |    15.20668       537   .02831784   R-squared       =    0.0508
-------------+----------------------------------   Adj R-squared   =    0.0490
       Total |  16.0200843       538  .029777108   Root MSE        =    .16828

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0777008   .0144978     5.36   0.000     .0492214    .1061802
       _cons |   .4647551   .0101847    45.63   0.000     .4447484    .4847619
------------------------------------------------------------------------------</code></pre>
<p>We found that the slope coefficient <span class="math inline">\(\hat{\beta}=0.078\)</span>. Remember, our general formula for interpreting slope coefficients is a 1-unit change in <code>treat</code> is expected to increase <code>per_math2</code> by 0.078. However, when we actually report the results, we should make it clear what these units represent. We don't want a reader to have to understand that <code>per_math2</code> is the variable that contains the fraction correct on the math score in order to understand the interpretation. Therefore, in plain (interpretable) English, we find that students that were offered free Mindspark tuition saw a 7.8 percentage point increase in math scores relative to control students who were not offered Mindspark tuition.</p>
<div class="rmdtip">
<p><strong>Concept Check</strong></p>
<p>What is the average score for control individuals given the regression output? What is the average score for treated individuals given the regression output? To check your answer you can type <code>sum per_math2 if treat==0</code> and <code>sum per_math2 if treat==1</code></p>
</div>
<p>So overall, Mindspark has a reasonably large impact on test scores. Test scores were quite low to begin with, so a 7.8 percentage point increase is a sizeable gain in learning. Next, let's see how effective Mindspark was for Hindi:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb146-1"><a href="classroom-technology.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_hindi2 treat</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       539
-------------+----------------------------------   F(1, 537)       =     16.12
       Model |  .572530953         1  .572530953   Prob &gt; F        =    0.0001
    Residual |   19.076815       537  .035524795   R-squared       =    0.0291
-------------+----------------------------------   Adj R-squared   =    0.0273
       Total |  19.6493459       538  .036522948   Root MSE        =    .18848

------------------------------------------------------------------------------
  per_hindi2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0651886   .0162382     4.01   0.000     .0332904    .0970868
       _cons |   .5200244   .0114073    45.59   0.000     .4976159    .5424329
------------------------------------------------------------------------------</code></pre>
<p>This regression tells us that treated students that were offered free Mindspark tuition saw a 6.5 percentage point increase in Hindi test scores relative to control students. Overall, this program seems very effective in increasing both math and Hindi scores.</p>
</div>
<div id="regression-tables" class="section level2" number="4.12">
<h2>
<span class="header-section-number">4.12</span> Regression Tables<a class="anchor" aria-label="anchor" href="#regression-tables"><i class="fas fa-link"></i></a>
</h2>
<p>In this section we are going to learn how to take those results in the prior section and translate them to publication-ready tables. To accomplish this, we are again going to use the <code>outreg2</code> command. To remind you, if you have not installed this command, you need to first type <code>ssc install outreg2</code> into the command window before using the command.</p>
<p>Our goal is to present the two regressions below in a nice, neatly formatted table:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb148-1"><a href="classroom-technology.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat </span>
<span id="cb148-2"><a href="classroom-technology.html#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_hindi2 treat</span></code></pre></div>
<p>To present multiple regressions in a single table, we will take advantage of the <code>est store</code> command. <code>est store</code> stands for estimates store. Basically it allows you to save the results of your regressions. To show how to use the command, let's estimate the impact of treatment on math scores:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb149-1"><a href="classroom-technology.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat</span>
<span id="cb149-2"><a href="classroom-technology.html#cb149-2" aria-hidden="true" tabindex="-1"></a>      Source |       SS           df       MS      Number <span class="kw">of</span> <span class="kw">obs</span>   =       539</span>
<span id="cb149-3"><a href="classroom-technology.html#cb149-3" aria-hidden="true" tabindex="-1"></a>-------------+----------------------------------   <span class="fu">F</span>(1, 537)       =     28.72</span>
<span id="cb149-4"><a href="classroom-technology.html#cb149-4" aria-hidden="true" tabindex="-1"></a>       Model |  .813404311         1  .813404311   Prob &gt; <span class="fu">F</span>        =    0.0000</span>
<span id="cb149-5"><a href="classroom-technology.html#cb149-5" aria-hidden="true" tabindex="-1"></a>    Residual |    15.20668       537   .02831784   R-squared       =    0.0508</span>
<span id="cb149-6"><a href="classroom-technology.html#cb149-6" aria-hidden="true" tabindex="-1"></a>-------------+----------------------------------   Adj R-squared   =    0.0490</span>
<span id="cb149-7"><a href="classroom-technology.html#cb149-7" aria-hidden="true" tabindex="-1"></a>       Total |  16.0200843       538  .029777108   Root MSE        =    .16828</span>
<span id="cb149-8"><a href="classroom-technology.html#cb149-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-9"><a href="classroom-technology.html#cb149-9" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------------</span>
<span id="cb149-10"><a href="classroom-technology.html#cb149-10" aria-hidden="true" tabindex="-1"></a>   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]</span>
<span id="cb149-11"><a href="classroom-technology.html#cb149-11" aria-hidden="true" tabindex="-1"></a>-------------+----------------------------------------------------------------</span>
<span id="cb149-12"><a href="classroom-technology.html#cb149-12" aria-hidden="true" tabindex="-1"></a>       treat |   .0777008   .0144978     5.36   0.000     .0492214    .1061802</span>
<span id="cb149-13"><a href="classroom-technology.html#cb149-13" aria-hidden="true" tabindex="-1"></a>       <span class="dt">_cons</span> |   .4647551   .0101847    45.63   0.000     .4447484    .4847619</span>
<span id="cb149-14"><a href="classroom-technology.html#cb149-14" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------------</span></code></pre></div>
<p>Now if I want to save these estimates I can type</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb150-1"><a href="classroom-technology.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="kw">est</span> <span class="kw">store</span> reg_math</span></code></pre></div>
<p>The part of the code that reads <code>reg_math</code> is giving the estimates a name that you will use later. You can change this name depending on your application. For example, I could have replaced <code>reg_math</code> with <code>reg_math_scores</code> in the code above and the code would have executed without error. Next, let's estimate the impact of treatment on Hindi scores and store the estimates as <code>reg_hindi</code>. To save, space, I will suppress the output of the regression:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb151-1"><a href="classroom-technology.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_hindi2 treat</span>
<span id="cb151-2"><a href="classroom-technology.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="kw">est</span> <span class="kw">store</span> reg_hindi</span></code></pre></div>
<p>Now that we have our regression estimates stored, we can construct the regression table using the <code>outreg2</code> command:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb152-1"><a href="classroom-technology.html#cb152-1" aria-hidden="true" tabindex="-1"></a>outreg2 [reg_math reg_hindi] <span class="kw">using</span> reg_table.doc, <span class="fu">word</span> <span class="kw">replace</span></span></code></pre></div>
<p>Let's go through each step of the code</p>
<ul>
<li><p><code>outreg2 [reg_math reg_hindi]</code> -- tells Stata to use <code>outreg2</code> to create a regression table. The table will have two columns: one that displays the math regression results and one that displays the Hindi results.</p></li>
<li><p><code>using reg_table.doc</code> -- tells Stata to create a new file named <code>reg_table.doc</code> in the working directory that contains the regression table.</p></li>
<li><p><code>, word replace</code> -- tells Stata the table should be in Word format, and if a file named <code>reg_table.doc</code> already exists, then replace it with the new table.</p></li>
</ul>
<p>Now let's see what this command generates.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:regtabbasic"></span>
<img src="images/04_reg_table_basic.png" alt="Regression Table" width="80%"><p class="caption">
Figure 4.16: Regression Table
</p>
</div>
<p>There are certainly some aesthetic changes that are needed in this table. But before we get to these, let's discuss the actual elements of the table. Many regression tables in academic articles have similar format as the one seen here.</p>
<p>First, we should clarify that the numbers in each column correspond to a given regression estimate. Column 1 estimates the impact of Mindspark on math test scores, while column 2 estimates the impact of Mindspark on Hindi test scores. Generally, the column is titled with the dependent variable. Therefore, in this case, we can see that the dependent variable in column 1 is <code>per_math2</code> and the dependent variable in column 2 is <code>per_hindi2</code>.</p>
<p>Then, in each row, we have independent variables. In this case, our regressions have the same independent variable: <code>treat</code>. In addition to any independent variables, regression estimates (generally) display the constant (also known as the intercept) as well.</p>
<p>The coefficient estimates are then given by the numbers that are not in parentheses. See Figure <a href="classroom-technology.html#fig:regcoefs">4.17</a>, which highlights the coefficient estimates in the table. If you are confused what the numbers correspond to, you should go back to your original regression output in Stata, and see how the estimates from those regressions map to this table.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:regcoefs"></span>
<img src="images/04_reg_table_coefs.png" alt="Regression Table: Coefficient Estimates" width="80%"><p class="caption">
Figure 4.17: Regression Table: Coefficient Estimates
</p>
</div>
<p>Now, there are a lot of elements in this table that we haven't explain yet. Standard errors (in parentheses) and p-values (indicated by the stars) are concepts we will not discuss in this course. In research, generally, it is important to not understand the magnitude of a treatment effect, but also whether it is statistically significant. We have not defined the concept of statistical significance. You will learn about this in other statistics or econometrics courses. Both standard errors and p-values (indicated by the stars) are related to statistical significance of the results.</p>
<p>Finally, the R-squared is a measure of how much variation we can explain using our explanatory variables. The concept of R-squared is something you will learn in future statistics or econometrics courses as well and will not be a subject we cover in this course.</p>
<p>Now that we understand the format of the table, let's edit the table in order to make it more easily interpretable for a reader. First, we should add a descriptive title. You can do this by using the <code><a href="https://rdrr.io/r/graphics/title.html">title()</a></code> option of <code>outreg2</code>. Second, we can delete a few superfluous items, such as "VARIABLES", "reg_math" and "reg_hindi". You can do this by directly editing the table in Word. Lastly, it is better to use full phrases that describe your variables, not the variable names we have in the code. Again you can make these edits in Word. After making these changes, we finally have a nice, publication-ready regression table:</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:regfinal"></span>
<img src="images/04_reg_table_improved.png" alt="Final Regression Table" width="80%"><p class="caption">
Figure 4.18: Final Regression Table
</p>
</div>
</div>
<div id="conditional-regressions" class="section level2" number="4.13">
<h2>
<span class="header-section-number">4.13</span> Conditional Regressions<a class="anchor" aria-label="anchor" href="#conditional-regressions"><i class="fas fa-link"></i></a>
</h2>
<p>So far we have found that Mindspark is effective in increasing test scores in both math and Hindi on average. But maybe it is more effective for some students relative to others? In this section, we are going to explore treatment effect heterogeneity. Often it is important to understand treatment effect heterogeneity if you are trying to understand how this treatment will work in other settings. For example, would we find different results if this were implemented in an all-girls or all-boys school? Would we find different results if this were implemented in wealthier neighborhoods? Would it be a less useful treatment in areas in which achievement was already high to begin with? We can use our existing experiment to see if the treatment effect varies by different characteristics, such as gender, socioeconomic status, and baseline achievement.</p>
<p>So how do we estimate treatment effect heterogeneity? Well, if we want to estimate the treatment effect for females only, for example, then we should restrict our sample to females. Then, among this smaller sample of participants, we can estimate the treatment effect.</p>
<p>The easiest way to implement this idea in Stata is through the use of conditional regressions. In this case, the word conditional implies on individuals that meet some certain condition are included in the estimation.</p>
<p>For example, if we want to estimate the treatment effect in a linear regression framework, but restricted only to females, we can type:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb153-1"><a href="classroom-technology.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat <span class="kw">if</span> st_female1==1</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       414
-------------+----------------------------------   F(1, 412)       =     17.78
       Model |  .518287614         1  .518287614   Prob &gt; F        =    0.0000
    Residual |  12.0091958       412  .029148533   R-squared       =    0.0414
-------------+----------------------------------   Adj R-squared   =    0.0390
       Total |  12.5274834       413   .03033289   Root MSE        =    .17073

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0707653    .016782     4.22   0.000     .0377763    .1037543
       _cons |   .4636151    .011838    39.16   0.000     .4403447    .4868854
------------------------------------------------------------------------------</code></pre>
<p>The part of the code <code>st_female1==1</code> implies the regression <code>reg per_math2 treat</code> should only be estimated for females. As a result, in the regression table, you can see the Number of obs is equal to 414. These are the number of females in the experiment that have endline test scores. For comparision, let's estimate treatment effect, but restricted only to males:</p>
<pre><code>      Source |       SS           df       MS      Number of obs   =       125
-------------+----------------------------------   F(1, 123)       =     12.67
       Model |  .323197879         1  .323197879   Prob &gt; F        =    0.0005
    Residual |  3.13679016       123  .025502359   R-squared       =    0.0934
-------------+----------------------------------   Adj R-squared   =    0.0860
       Total |  3.45998804       124  .027903129   Root MSE        =    .15969

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .1017787   .0285899     3.56   0.001     .0451867    .1583707
       _cons |   .4684034   .0198077    23.65   0.000     .4291953    .5076114
------------------------------------------------------------------------------</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb156-1"><a href="classroom-technology.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat <span class="kw">if</span> st_female1==0</span></code></pre></div>
<p>Now, in our first regression, we find <span class="math inline">\(\hat{\beta}^{female}\)</span> = 0.071. This implies treatment increases percent score correct by 7.1 percentage points for females. In our second regression, we find <span class="math inline">\(\hat{\beta}^{male}\)</span> = 0.102. Treatment increases percent score correct by 10.2 percentage points for males. Therefore, overall, the treatment effect is slightly larger for males relative to females. However, in both cases, it appears that overall, the treatment is quite effective.</p>
<p>Next, let's consider if the treatment effects vary by socieconomic status. In the data, we have a variable named <code>ses_index</code>. An <strong>index</strong> is a variable that aggregates information from many different variables. For example, in our setting, SES index captures different aspects of household wealth. It is constructed from variables that capture ownership of various consumer goods and services. A higher SES index indicates higher wealth. Our SES index is scaled so that it is on average equal to zero in our sample. Therefore, individuals with positive values of SES index are wealthier than the average student in the experiment, individuals with negative values of SES index are poorer than the average student in the experiment. Let's test whether the treatment effect is different for students with above-average socioeconomic status vs. below-average socieconomic status.</p>
<p>Our first regression will be estimated on individuals with below-average SES index.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb157-1"><a href="classroom-technology.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat <span class="kw">if</span> ses_index&lt;0</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       268
-------------+----------------------------------   F(1, 266)       =     20.29
       Model |  .509060251         1  .509060251   Prob &gt; F        =    0.0000
    Residual |  6.67313366       266  .025086969   R-squared       =    0.0709
-------------+----------------------------------   Adj R-squared   =    0.0674
       Total |  7.18219391       267  .026899603   Root MSE        =    .15839

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0872535   .0193697     4.50   0.000     .0491161    .1253909
       _cons |   .4296612   .0139997    30.69   0.000     .4020969    .4572256
------------------------------------------------------------------------------</code></pre>
<p>Our second regression will be estimated on individuals with above-average SES index.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb159-1"><a href="classroom-technology.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat <span class="kw">if</span> ses_index&gt;0</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       271
-------------+----------------------------------   F(1, 269)       =     12.72
       Model |  .380236782         1  .380236782   Prob &gt; F        =    0.0004
    Residual |  8.04393779       269  .029903114   R-squared       =    0.0451
-------------+----------------------------------   Adj R-squared   =    0.0416
       Total |  8.42417457       270  .031200647   Root MSE        =    .17293

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0751004   .0210607     3.57   0.000     .0336356    .1165653
       _cons |   .4957346   .0143607    34.52   0.000      .467461    .5240081
------------------------------------------------------------------------------</code></pre>
<p>In regression 1, we find <span class="math inline">\(\hat{\beta}^{lowSES}\)</span> = 0.087. Treatment increases percent score correct by 8.7 percentage points for individuals with below-average SES. In regression 2, we find <span class="math inline">\(\hat{\beta}^{highSES}\)</span> = 0.075. Treatment increases percent score correct by 7.5 percentage points for individuals with above-average SES. Therefore, the treatment effect is slightly larger for low-SES, but quite similar overall.</p>
<p>The last heterogeneity we will explore is by baseline achievement. Maybe students that benefit the most are those that have been "left behind". There are many ways one could explore this question. We are going to see if individuals below the median level of baseline test scores (within their grade) have different treatment effects than those above the median level of test scores.</p>
<p>The first thing we need to do is create a new variable that indicates whether an individual student performed above median or below median in the initial baseline assessment, within their grade level. We will do this in two steps:</p>
<ul>
<li><p>Step 1: create a variable that stores the median test score within an individual's grade.</p></li>
<li><p>Step 2: create an indicator variable equal to 1 if the individual's test score is above the median test score and zero otherwise.</p></li>
</ul>
<p>For Step 1: we are again going to combine <code>bys</code> with <code>egen</code>. We used these commands to compute the total number of stops by race and light condition in a previous chapter. To generate median test score within a grade, we can type:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb161-1"><a href="classroom-technology.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="kw">bys</span> st_grade1: <span class="kw">egen</span> median_test_score=<span class="kw">median</span>(per_math1)</span></code></pre></div>
<p>Now let's generate a new variable that indicates whether a given student's test score is above or equal to the median test score within their grade</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb162-1"><a href="classroom-technology.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> above_median = (per_math1 &gt; median_test_score)</span></code></pre></div>
<p>Now that we have our indicator variable, we can now estimate two regressions: (1) a regression restricted to above-median performers and (2) a regression restricted to below-median performers.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb163-1"><a href="classroom-technology.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat <span class="kw">if</span> above_median==1</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       239
-------------+----------------------------------   F(1, 237)       =     19.25
       Model |   .52552737         1   .52552737   Prob &gt; F        =    0.0000
    Residual |   6.4715909       237  .027306291   R-squared       =    0.0751
-------------+----------------------------------   Adj R-squared   =    0.0712
       Total |  6.99711827       238  .029399657   Root MSE        =    .16525

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0941481   .0214608     4.39   0.000     .0518699    .1364264
       _cons |   .5290498    .014493    36.50   0.000     .5004981    .5576014
------------------------------------------------------------------------------</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb165-1"><a href="classroom-technology.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> per_math2 treat <span class="kw">if</span> above_median==0</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =       300
-------------+----------------------------------   F(1, 298)       =     21.99
       Model |  .480080178         1  .480080178   Prob &gt; F        =    0.0000
    Residual |  6.50520836       298  .021829558   R-squared       =    0.0687
-------------+----------------------------------   Adj R-squared   =    0.0656
       Total |  6.98528854       299  .023362169   Root MSE        =    .14775

------------------------------------------------------------------------------
   per_math2 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       treat |   .0800939   .0170791     4.69   0.000      .046483    .1137049
       _cons |   .4063055   .0123553    32.89   0.000     .3819907    .4306202
------------------------------------------------------------------------------</code></pre>
<p>We find that <span class="math inline">\(\hat{\beta}^{above}\)</span> = 0.095. Treatment increases percent score correct by 9.5 percentage points for above-median scoring students. We find <span class="math inline">\(\hat{\beta}^{below}\)</span> = 0.088. Treatment increases percent score correct by 8.8 percentage points for below-median scoring students. The treatment effect is slightly larger for above-median scoring students, but quite similar overall.</p>
<p>To summarize our results in this chapter, we tested for heterogeneity in treatment effects by (1) gender, (2) SES status and (3) baseline achievement. While we found some evidence of heterogeneity, impacts were large and positive for all groups. This provides evidence on the <strong>external validity</strong> of the treatment. If we expand this program to more students, perhaps with different baseline characteristics, we might predict that it will still be effective given its ability to raise test scores for different types of students.</p>
</div>
<div id="conclusion-2" class="section level2" number="4.14">
<h2>
<span class="header-section-number">4.14</span> Conclusion<a class="anchor" aria-label="anchor" href="#conclusion-2"><i class="fas fa-link"></i></a>
</h2>
<p>In this final section we will summarize what we have learned so far and then present additional results from Muralidharan, Singh, and Ganimian (2019). The motivation for Muralidharan, Singh, and Ganimian (2019) is that in certain settings, there may be a mismatch between students' level of understanding and the curriculum they are being taught. One potential tool that can be used to alleviate this problem is technology. In Muralidharan, Singh, and Ganimian (2019), the authors test if Mindspark, a software that aims to teach-at-the-right level is successful in increasing test scores. In this chapter, we used the data from this experiment and found large test score gains.</p>
<p>Whenever you find some experimental result, you might want to think carefully about what is driving the result. For example, the treatment in this setting is really a combination of a few things.</p>
<ul>
<li><p>The Mindspark software aims to teach-at-the-right level</p></li>
<li><p>This software is combined with instruction time from a teaching assistant</p></li>
</ul>
<p>Although we did not focus on this second component, every Mindspark center includes instructional time with a teaching assistant. So maybe we don't actually need the "technology" component. Maybe we just need more instruction time?</p>
<p>Well, Berry and Mukherjee (2016)<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;James Berry and Priya Mukherjee, &lt;span&gt;“Pricing of Private Education in Urban India: Demand, Use and Impact,”&lt;/span&gt; &lt;em&gt;Unpublished Manuscript. Ithaca, NY: Cornell University&lt;/em&gt;, 2016.&lt;/p&gt;"><sup>7</sup></a></span> studies the impact of private tutoring in Delhi. This is a very similar intervention, but without the software to teach-at-the-right level. Instead teaching was focused on the current grade level of the student (not the assessed level). Berry and Mukherjee (2016) find no impact of this intervention. This suggests that the individual targeting aspect of the software was essential for the results.</p>
<p>The key difficulty that Mindspark software attempts to overcome is the huge heterogeneity in understanding in a classroom. As an instructor, teaching effectively when learning levels vary widely is difficult. Once Mindspark is programmed, it can do this automatically. We can actually look in the data and see how Mindspark updates material over time for different students.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:dynamic"></span>
<img src="images/04_fig.png" alt="Dynamic Updating of Mindspark" width="80%"><p class="caption">
Figure 4.19: Dynamic Updating of Mindspark
</p>
</div>
<p>Panel A of Figure <a href="classroom-technology.html#fig:dynamic">4.19</a> plots the grade level that of questions that are proposed by Mindspark over time, for different grade levels. As you can see, individuals (on average) are starting well-below grade level. For example, the solid black line is grade 9, and the questions being posed to these students are between grades 4 and 5. But over time, the assessed level increases. About 5 months later, the difficulty of the questions have increased by almost an entire year. This figure is plotting how individuals are learning over time.</p>
<p>Panel B, instead, plots the grade level of questions that are proposed by Mindspark over time for different levels of baseline achievement. The key takeaway from this graph is that regardless of baseline achievement, Mindspark is succesful in improving updating over time. The rates of learning are actually quite similar for different levels of baseline achievement.</p>
<p>So now we are relatively certain Mindspark is succesful in increasing learning, but does that imply we should invest in it as a resource for students? Whenever there is a proposed policy, there is bound to be a cost-benefit analysis. Policymakers generally have a number of different potential policies they may pursue, so you want to invest in the right policy. In order to do this, you need both the cost and benefits of the proposed policy. Running an experiment is a great way to estimate the benefits of a proposed intervention. Now that we know the benefits of Mindspark from our experiment, it is time to turn to the costs.</p>
<p>To do so, let's compare the cost of Mindspark to traditional government-run schools. Government-run schools spend about 240 minutes per week on Math and Hindi. The cost per pupil is around INR 1500 (US $22). Mindspark spends about 180 minutes per week on Math and Hindi. Cost per pupil is around INR 1000 (US $15). Using the estimates from the paper, Mindspark led to more learning in less time than government-run schools, as well as utilizing less financial resources.</p>
<p>To conclude, using technology to teach-at-the-right-level seems like a promising intervention in places in which there is tremendous heterogeneity in baselines levels of understanding. But, there is potential for even better educational design! Maybe the best intervention would blend Mindspark with standard teaching. Giving teachers more information about the level of their students could aid instruction in the classroom. This automated aspect of the software could free up teacher time for other activities that also improve student performance.</p>
</div>
<div id="animated-concepts" class="section level2 unnumbered">
<h2>
<u>Animated Concepts</u><a class="anchor" aria-label="anchor" href="#animated-concepts"><i class="fas fa-link"></i></a>
</h2>
<iframe src="https://www.youtube.com/embed/MBSsegVVqlk" width="672" height="400px" data-external="1">
</iframe>

</div>
</div>

<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><div class="chapter-nav">
<div class="prev"><a href="discrimination-in-police-stops.html"><span class="header-section-number">3</span> Discrimination in Police Stops</a></div>
<div class="next"><a href="legacy-of-colonial-medicine.html"><span class="header-section-number">5</span> Legacy of Colonial Medicine</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#classroom-technology"><span class="header-section-number">4</span> Classroom Technology</a></li>
<li><a class="nav-link" href="#disrupting-education-intro"><span class="header-section-number">4.1</span> Disrupting Education Intro</a></li>
<li><a class="nav-link" href="#linear-regression-theory"><span class="header-section-number">4.2</span> Linear Regression (Theory)</a></li>
<li><a class="nav-link" href="#predicted-values"><span class="header-section-number">4.3</span> Predicted Values</a></li>
<li><a class="nav-link" href="#slope-coefficient"><span class="header-section-number">4.4</span> Slope Coefficient</a></li>
<li><a class="nav-link" href="#regression-stata"><span class="header-section-number">4.5</span> Regression (Stata)</a></li>
<li><a class="nav-link" href="#predict"><span class="header-section-number">4.6</span> Predict</a></li>
<li><a class="nav-link" href="#macros"><span class="header-section-number">4.7</span> Macros</a></li>
<li><a class="nav-link" href="#explore-data"><span class="header-section-number">4.8</span> Explore Data</a></li>
<li><a class="nav-link" href="#summary-statistics-1"><span class="header-section-number">4.9</span> Summary Statistics</a></li>
<li><a class="nav-link" href="#binary-regression"><span class="header-section-number">4.10</span> Binary Regression</a></li>
<li><a class="nav-link" href="#mindspark-results"><span class="header-section-number">4.11</span> Mindspark Results</a></li>
<li><a class="nav-link" href="#regression-tables"><span class="header-section-number">4.12</span> Regression Tables</a></li>
<li><a class="nav-link" href="#conditional-regressions"><span class="header-section-number">4.13</span> Conditional Regressions</a></li>
<li><a class="nav-link" href="#conclusion-2"><span class="header-section-number">4.14</span> Conclusion</a></li>
<li><a class="nav-link" href="#animated-concepts">Animated Concepts</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Econ5/Poli5D</strong>" was written by David Arnold. It was last built on 2023-01-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
